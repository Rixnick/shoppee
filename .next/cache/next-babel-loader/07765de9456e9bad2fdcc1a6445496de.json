{"ast":null,"code":"var _jsxFileName = \"/home/loki/Desktop/Projects/Shoppin/shop-client/components/UserProduct/CreateProduct.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport { QUERY_PRODUCTS, CREATE_PRODUCT, UPDATE_PRODUCT } from '../../graphql/Products';\n\nconst CreateProduct = () => {\n  const {\n    0: file,\n    1: setFile\n  } = useState(null);\n  const {\n    0: productData,\n    1: setProductData\n  } = useState({\n    name: '',\n    description: '',\n    price: '',\n    imageUrl: ''\n  });\n  const [createProduct, {\n    loading,\n    error\n  }] = useMutation(CREATE_PRODUCT, {\n    refetchQueries: [{\n      query: QUERY_PRODUCTS\n    }]\n  });\n\n  const handleChange = e => setProductData(_objectSpread(_objectSpread({}, productData), {}, {\n    [e.target.name]: e.target.value\n  }));\n\n  const selectFile = e => {\n    const files = e.target.files;\n    setFile(files[0]); //console.log(files)\n  }; //Upload File to Cloudinary\n\n\n  const uploadFile = async () => {\n    const data = new FormData();\n    data.append('file', file);\n    data.append('upload_preset', 'shoppin');\n    const res = await fetch('https://api.cloudinary.com/v1_1/swizce/image/upload', {\n      method: 'post',\n      body: data\n    });\n    const result = await res.json(); //console.log('image result',  result)\n\n    return result.secure_url;\n  };\n\n  const handleSubmit = async e => {\n    try {\n      e.preventDefault();\n      const url = await uploadFile(); // console.log('image Url:', url)\n\n      if (url) {\n        const result = await createProduct({\n          variables: _objectSpread(_objectSpread({}, productData), {}, {\n            price: +productData.price,\n            imageUrl: url\n          })\n        }); //console.log('Product Data:', result)\n\n        return result;\n      }\n\n      Router.push('/userProducts');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"create-product-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"create-product_tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"create More tabs here\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"Product Basic Info\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Product Image Gallary\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Product Promotion\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"Product Slug detail\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"Product Release QR-Code\")))), __jsx(\"div\", {\n    className: \"create-product_form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"info-state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"productname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Product Name:\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter Product Name\",\n    value: productData.name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"Product Desc:\"), __jsx(\"textarea\", {\n    type: \"text\",\n    name: \"description\",\n    placeholder: \"Product Description\",\n    value: productData.description,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Price:\"), __jsx(\"input\", {\n    type: \"number\",\n    name: \"price\",\n    placeholder: \"Price\",\n    value: productData.price,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, \"Stock Qty:\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"contact\",\n    placeholder: \"Contact No.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, \"--Select Categories--\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"contact\",\n    placeholder: \"Contact No.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"--Select Brands--\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"contact\",\n    placeholder: \"Contact No.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"Product Image\"), __jsx(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    placeholder: \"file *.png, *.jpg...\",\n    onChange: selectFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"create-product-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: \"btn-back-products\",\n    onClick: () => Router.push('/userProducts'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Back\"), __jsx(\"button\", {\n    className: \"btn-submit\",\n    type: \"submit\",\n    style: {\n      cursor: !productData.name || !productData.description || !productData.price || !file || loading ? 'not-allowed' : 'pointer'\n    },\n    disabled: !productData.name || !productData.description || !productData.price || !file || loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, \"Submit\", loading ? 'Submiting...' : '')))));\n};\n\nexport default CreateProduct;","map":{"version":3,"sources":["/home/loki/Desktop/Projects/Shoppin/shop-client/components/UserProduct/CreateProduct.jsx"],"names":["React","useState","useMutation","fetch","Router","QUERY_PRODUCTS","CREATE_PRODUCT","UPDATE_PRODUCT","CreateProduct","file","setFile","productData","setProductData","name","description","price","imageUrl","createProduct","loading","error","refetchQueries","query","handleChange","e","target","value","selectFile","files","uploadFile","data","FormData","append","res","method","body","result","json","secure_url","handleSubmit","preventDefault","url","variables","push","console","log","cursor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport { QUERY_PRODUCTS,  CREATE_PRODUCT, UPDATE_PRODUCT } from '../../graphql/Products';\n\nconst CreateProduct = () => {\n\n    const [file, setFile] = useState(null)\n    const [productData, setProductData] = useState({\n        name: '',\n        description: '',\n        price: '',\n        imageUrl: ''\n    })\n\n    const [createProduct, { loading, error }] = useMutation(CREATE_PRODUCT, {\n        refetchQueries: [{ query: QUERY_PRODUCTS }]\n    })\n\n    const handleChange = e => setProductData({\n        ...productData,\n        [e.target.name]: e.target.value\n    })\n\n    const selectFile = e => {\n        const files = e.target.files\n        setFile(files[0])\n        //console.log(files)\n    }\n\n        //Upload File to Cloudinary\n        const uploadFile = async () => {\n            const data = new FormData()\n            data.append('file', file)\n            data.append('upload_preset', 'shoppin')\n            const res = await fetch('https://api.cloudinary.com/v1_1/swizce/image/upload', {\n                method: 'post',\n                body: data\n            })\n            const result = await res.json()\n            //console.log('image result',  result)\n            return result.secure_url\n        }\n\n        const handleSubmit = async e => {\n            try {\n                e.preventDefault()\n                const url = await uploadFile()\n                // console.log('image Url:', url)\n                if (url) {\n                    const result = await createProduct({\n                        variables: {\n                            ...productData,\n                            price: +productData.price,\n                            imageUrl: url\n                        },\n                    })\n                    //console.log('Product Data:', result)\n                    return result;\n                }\n                Router.push('/userProducts')\n            } catch (error) {\n                console.log(error)\n            }\n        }\n\n    return (\n        <div className=\"create-product-card\">\n            <div className=\"create-product_tabs\">\n                <h5>create More tabs here</h5>\n                <ul>\n                    <li><a href=\"\">Product Basic Info</a></li>\n                    <li><a href=\"\">Product Image Gallary</a></li>\n                    <li><a href=\"\">Product Promotion</a></li>\n                    <li><a href=\"\">Product Slug detail</a></li>\n                    <li><a href=\"\">Product Release QR-Code</a></li>\n                </ul>\n            </div>\n            <div className=\"create-product_form\">\n                <form  onSubmit={handleSubmit} >\n                    <div className=\"info-state\">\n                        <label htmlFor=\"productname\">Product Name:</label>\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            placeholder=\"Enter Product Name\"\n                            value={productData.name}\n                            onChange={handleChange}\n                        />\n                        <label htmlFor=\"address\">Product Desc:</label>\n                        <textarea\n                            type=\"text\"\n                            name=\"description\"\n                            placeholder=\"Product Description\"\n                            value={productData.description}\n                            onChange={handleChange}\n                        />\n                        <label htmlFor=\"city\">Price:</label>\n                        <input\n                            type=\"number\"\n                            name=\"price\"\n                            placeholder=\"Price\"\n                            value={productData.price}\n                            onChange={handleChange}\n                        />\n                        <label htmlFor=\"contact\">Stock Qty:</label>\n                        <input\n                            type=\"text\"\n                            name=\"contact\"\n                            placeholder=\"Contact No.\"\n                        />\n                        <label htmlFor=\"contact\">--Select Categories--</label>\n                        <input\n                            type=\"text\"\n                            name=\"contact\"\n                            placeholder=\"Contact No.\"\n                        />\n                        <label htmlFor=\"contact\">--Select Brands--</label>\n                        <input\n                            type=\"text\"\n                            name=\"contact\"\n                            placeholder=\"Contact No.\"\n                        />\n                        <label htmlFor=\"contact\">Product Image</label>\n                        <input\n                            type=\"file\"\n                            name=\"file\"\n                            placeholder=\"file *.png, *.jpg...\"\n                            onChange={selectFile}\n                        />\n                    </div>\n                    <div className=\"create-product-footer\">\n                        <button className=\"btn-back-products\" onClick={() => Router.push('/userProducts')}>Back</button>\n                        <button \n                            className=\"btn-submit\" \n                            type=\"submit\"\n                            style={{ cursor: !productData.name || !productData.description || !productData.price || !file || loading ? 'not-allowed' : 'pointer' }}\n                            disabled={!productData.name || !productData.description || !productData.price || !file || loading}\n                            >Submit{loading ? 'Submiting...' : ''}</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default CreateProduct;\n"]},"metadata":{},"sourceType":"module"}