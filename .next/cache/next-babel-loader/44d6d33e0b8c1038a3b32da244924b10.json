{"ast":null,"code":"var _jsxFileName = \"/home/loki/Desktop/Projects/Shoppin/shop-client/components/Nav.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport { useQuery } from '@apollo/react-hooks';\nimport '../styles/_nav.scss';\nimport { MY_PRODUCTS } from '../graphql/Products';\n\nfunction nav() {\n  _s();\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      signout = _useContext.signout,\n      setAuthUser = _useContext.setAuthUser;\n\n  var _useQuery = useQuery(MY_PRODUCTS),\n      data = _useQuery.data;\n\n  console.log(user);\n  useEffect(function () {\n    if (data) {\n      setAuthUser(data.user);\n    }\n  }, [data]);\n  return __jsx(\"nav\", {\n    className: \"site-navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, __jsx(\"span\", {\n    className: \"menu-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, \"EZ-Shoppin\"), __jsx(\"div\", {\n    className: \"menu-content-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    className: \"menu-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, user && __jsx(React.Fragment, null, __jsx(\"li\", {\n    className: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 15\n    }\n  }, \"@\", user.username))))), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"\\u0EAB\\u0E99\\u0EC9\\u0EB2\\u0EAB\\u0EA5\\u0EB1\\u0E81\"))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"\\u0EAA\\u0EB5\\u0E99\\u0E84\\u0EC9\\u0EB2\"))), user && __jsx(React.Fragment, null, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/carts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Carts \", __jsx(\"span\", {\n    style: {\n      background: 'red',\n      color: 'white',\n      borderRadius: '50%',\n      padding: '3px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 24\n    }\n  }, user && user.cart && user.cart.length === 0 && 0, user && user.cart && user.cart.length > 0 && user.cart.reducer(function (sum, item) {\n    return sum + item.qualtity;\n  }, 0))))), __jsx(\"button\", {\n    className: \"btn-signout\",\n    onClick: signout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Logout\"), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }\n  }, __jsx(Link, {\n    href: \"/manageProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"My Store\")))), !user && __jsx(React.Fragment, null, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, \"Signin\"))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Signup\")))))));\n}\n\n_s(nav, \"Ee+rrbJfyvN2rDSdz26FrdQeeDs=\", false, function () {\n  return [useQuery];\n});\n\nexport default nav;","map":{"version":3,"sources":["/home/loki/Desktop/Projects/Shoppin/shop-client/components/Nav.jsx"],"names":["React","useContext","useEffect","Link","AuthContext","useQuery","MY_PRODUCTS","nav","user","signout","setAuthUser","data","console","log","username","background","color","borderRadius","padding","cart","length","reducer","sum","item","qualtity"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport {AuthContext} from '../contexts/AuthProvider';\nimport { useQuery } from '@apollo/react-hooks';\nimport '../styles/_nav.scss';\nimport {MY_PRODUCTS} from '../graphql/Products';\n\n\nfunction nav() {\n  const {user, signout, setAuthUser } = useContext(AuthContext)\n  const { data } = useQuery(MY_PRODUCTS)\n  console.log(user)\n  \n\n  useEffect(() => {\n        if(data){\n            setAuthUser(data.user)\n        }\n  }, [data])\n  return (\n    <nav className=\"site-navigation\">\n      <span className=\"menu-title\">EZ-Shoppin</span>\n      <div className=\"menu-content-container\">\n      <span className=\"menu-title\">\n        {user && <>\n          <li className=\"username\">\n            <Link href=\"/\">\n              <a>@{user.username}</a>\n            </Link>\n          </li>\n          </>\n        }\n      </span>\n      <ul>\n        <li>\n          <Link href=\"/\">\n            <a>ຫນ້າຫລັກ</a>\n          </Link>\n        </li>\n\n        <li>\n          <Link href=\"/products\">\n            <a>ສີນຄ້າ</a>\n          </Link>\n        </li>\n\n        {user && <>\n          <li>\n            <Link href=\"/carts\">\n              <a>Carts <span  \n                style={{background: 'red', \n                                color: 'white', \n                                borderRadius: '50%', \n                                padding: '3px'}}\n                                >\n                               {user && user.cart && user.cart.length === 0 && 0}     \n                               {user && user.cart && user.cart.length > 0 &&  user.cart.reducer((sum, item) => sum + item.qualtity, 0)}  \n                            </span></a>\n            </Link>\n          </li>\n\n          <button className=\"btn-signout\"  onClick={signout}\n          >Logout</button>\n\n           <li>\n            <Link href=\"/manageProducts\">\n              <a>My Store</a>\n            </Link>\n          </li>\n        </>}\n\n        {!user && <>\n            <li>\n            <Link href=\"/signin\">\n              <a>Signin</a>\n            </Link>\n          </li>\n\n          <li>\n            <Link href=\"/signup\">\n              <a>Signup</a>\n            </Link>\n          </li>\n        </>}\n      </ul>\n      </div>\n    </nav>\n  )\n}\n\nexport default nav;"]},"metadata":{},"sourceType":"module"}