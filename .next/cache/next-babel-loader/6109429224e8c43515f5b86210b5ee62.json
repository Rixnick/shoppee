{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport { useQuery } from '@apollo/react-hooks';\nimport { MY_PRODUCTS } from '../graphql/Products';\nimport { MY_CARTS } from '../graphql/Carts';\nimport { MY_PROFILE } from '../graphql/Profile';\n\nfunction nav() {\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      signout = _useContext.signout,\n      setAuthUser = _useContext.setAuthUser;\n\n  var _useQuery = useQuery(MY_PRODUCTS, MY_CARTS, MY_PROFILE),\n      data = _useQuery.data; // console.log(user)\n  // console.log(data)\n\n\n  useEffect(function () {\n    if (data) {\n      setAuthUser(data.user);\n    }\n  }, [data]);\n  return __jsx(\"nav\", {\n    className: \"site-navigation\"\n  }, __jsx(\"span\", {\n    className: \"menu-title\"\n  }, \" Ozone.Shop\"), __jsx(\"input\", {\n    className: \"search_input\",\n    type: \"search\",\n    name: \"search\",\n    id: \"search\",\n    placeholder: \"i am feeling happy shopping for...!\"\n  }), __jsx(\"div\", {\n    className: \"menu-content-container\"\n  }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, \"Home\"))), __jsx(\"li\", null, __jsx(Link, {\n    href: \"/products\"\n  }, __jsx(\"a\", null, \"Products\"))), user && __jsx(React.Fragment, null, __jsx(\"li\", null, __jsx(Link, {\n    href: \"/carts\"\n  }, __jsx(\"a\", null, \"Carts \", __jsx(\"span\", {\n    style: {\n      background: 'red',\n      color: 'white',\n      borderRadius: '50%',\n      padding: '3px'\n    }\n  }, user && user.cart && user.cart.length === 0 && 0, user && user.cart && user.cart.length > 0 && user.cart.reducer(function (sum, item) {\n    return sum + item.qualtity;\n  }, 0))))), __jsx(\"button\", {\n    className: \"btn-signout\",\n    onClick: signout\n  }, \"Logout\"), __jsx(\"li\", null, __jsx(Link, {\n    href: \"/dashboard\"\n  }, __jsx(\"a\", null, \"My Store\")))), !user && __jsx(React.Fragment, null, __jsx(\"li\", null, __jsx(Link, {\n    href: \"/signin\"\n  }, __jsx(\"a\", null, \"Signin\"))), __jsx(\"li\", null, __jsx(Link, {\n    href: \"/signup\"\n  }, __jsx(\"a\", null, \"Signup\"))))), __jsx(\"ul\", null, __jsx(\"li\", null, \"En\"), \" \\xA0\"), __jsx(\"span\", {\n    className: \"menu-title\"\n  }, user && __jsx(React.Fragment, null, __jsx(\"li\", {\n    className: \"username\"\n  }, __jsx(Link, {\n    href: \"/dashboard\"\n  }, __jsx(\"a\", null, \"@\", user.username)))))));\n}\n\nexport default nav;","map":null,"metadata":{},"sourceType":"module"}