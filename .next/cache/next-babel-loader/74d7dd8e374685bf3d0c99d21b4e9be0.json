{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { DELETE_CART } from '../graphql/Carts';\nimport { MY_PRODUCTS } from '../graphql/Products';\nimport { MY_CARTS } from '../graphql/Carts';\n\nfunction CartItems(_ref) {\n  var cart = _ref.cart;\n\n  var _useMutation = useMutation(DELETE_CART, {\n    onCompleted: function onCompleted(data) {\n      console.log(data);\n    },\n    refetchQueries: [{\n      query: MY_PRODUCTS,\n      MY_CARTS: MY_CARTS\n    }]\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      deleteCart = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error;\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return deleteCart({\n                variables: {\n                  id: cart.id\n                }\n              });\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '2fr 2fr 2fr 2fr 2fr 2fr 2fr',\n      width: '100%',\n      borderTop: '1px solid grey',\n      borderBottom: '1px solid grey'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    }\n  }, __jsx(\"img\", {\n    src: cart.product.imageUrl,\n    alt: cart.product.description,\n    width: \"80px\"\n  })), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    }\n  }, __jsx(\"p\", null, cart.product.name)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    }\n  }, __jsx(\"p\", null, cart.product.description)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    }\n  }, __jsx(\"p\", null, cart.product.price)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    }\n  }, __jsx(\"p\", null, cart.qualtity)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    }\n  }, __jsx(\"p\", null, cart.qualtity * cart.product.price)), __jsx(\"div\", {\n    style: _defineProperty({\n      margin: '5px',\n      alignItems: 'center',\n      display: 'flex'\n    }, \"alignItems\", 'center')\n  }, __jsx(\"button\", {\n    style: {\n      margin: '10px',\n      background: 'red',\n      color: 'white',\n      padding: '10px',\n      border: 'none'\n    },\n    onClick: handleSubmit\n  }, loading ? 'Deleting...' : error ? 'Error' : 'Delete')));\n}\n\nexport default CartItems;","map":null,"metadata":{},"sourceType":"module"}