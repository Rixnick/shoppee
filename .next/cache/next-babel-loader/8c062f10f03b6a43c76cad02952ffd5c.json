{"ast":null,"code":"var _jsxFileName = \"/home/loki/Desktop/Projects/Shoppin/shop-client/components/ProductDetail/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { QUERY_PRODUCT, MY_PRODUCTS } from '../../graphql/Products';\nimport { AuthContext } from '../../contexts/AuthProvider';\nimport { ADD_TO_CART } from '../../graphql/Carts';\n\nconst ProductDetail = () => {\n  const route = useRouter();\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(QUERY_PRODUCT, {\n    variables: {\n      id: route.query.productId\n    }\n  }); //console.log('ProductID:', route.query.productId)\n\n  const {\n    user\n  } = useContext(AuthContext);\n  console.log(\"produc Id\", data);\n  const [addToCart] = useMutation(ADD_TO_CART, {\n    onCompleted: data => {\n      console.log('data', data);\n    },\n    refetchQueries: [{\n      query: MY_PRODUCTS\n    }]\n  });\n\n  const handleAddToCart = async id => {\n    // console.log('product_id:',  id)\n    if (!user) {\n      return Router.push('/signin');\n    }\n\n    await addToCart({\n      variables: {\n        id\n      }\n    });\n  }; //    console.log('result', data)\n\n\n  if (error) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 23\n    }\n  }, \"Ooops....! Something went wrong, Plz try again later\");\n  if (loading) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }\n  }, \"loading...\");\n  return __jsx(\"div\", {\n    className: \"product-detail-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"product-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: data.product.imageUrl,\n    alt: data.product.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"product-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"Product Detail\"), __jsx(\"div\", {\n    className: \"box-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    className: \"product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, data.product.name)), __jsx(\"div\", {\n    className: \"box-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"product-desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, data.product.description)), __jsx(\"div\", {\n    className: \"product-size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"product content here\")), __jsx(\"div\", {\n    className: \"product-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"product color conyent here\")), __jsx(\"div\", {\n    className: \"product-rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Rate my product here\")), __jsx(\"div\", {\n    className: \"transport-service\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Shipping via\")), __jsx(\"div\", {\n    className: \"product-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \" $\", data.product.price)), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"box-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"ADD CART\"))));\n};\n\nexport default ProductDetail;","map":{"version":3,"sources":["/home/loki/Desktop/Projects/Shoppin/shop-client/components/ProductDetail/index.jsx"],"names":["React","useContext","Router","useRouter","useQuery","useMutation","QUERY_PRODUCT","MY_PRODUCTS","AuthContext","ADD_TO_CART","ProductDetail","route","data","loading","error","variables","id","query","productId","user","console","log","addToCart","onCompleted","refetchQueries","handleAddToCart","push","product","imageUrl","description","name","price"],"mappings":";;AACA,OAAOA,KAAP,IAAiBC,UAAjB,QAAmC,OAAnC;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,aAAlC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,qBAAtC;AACA,SAASC,aAAT,EAAwBC,WAAxB,QAA2C,wBAA3C;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,SAASC,WAAT,QAA4B,qBAA5B;;AAGA,MAAMC,aAAa,GAAG,MAAM;AAExB,QAAMC,KAAK,GAAGR,SAAS,EAAvB;AACA,QAAM;AAAES,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA2BV,QAAQ,CAACE,aAAD,EAAgB;AAAES,IAAAA,SAAS,EAAE;AAAEC,MAAAA,EAAE,EAAEL,KAAK,CAACM,KAAN,CAAYC;AAAlB;AAAb,GAAhB,CAAzC,CAHwB,CAIxB;;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWlB,UAAU,CAACO,WAAD,CAA3B;AACAY,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBT,IAAzB;AAEA,QAAM,CAACU,SAAD,IAAcjB,WAAW,CAACI,WAAD,EAAc;AACzCc,IAAAA,WAAW,EAAEX,IAAI,IAAI;AACjBQ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBT,IAApB;AACH,KAHwC;AAIzCY,IAAAA,cAAc,EAAE,CAAC;AAAEP,MAAAA,KAAK,EAAEV;AAAT,KAAD;AAJyB,GAAd,CAA/B;;AAOA,QAAMkB,eAAe,GAAG,MAAOT,EAAP,IAAc;AAClC;AAEA,QAAI,CAACG,IAAL,EAAW;AACP,aAAOjB,MAAM,CAACwB,IAAP,CAAY,SAAZ,CAAP;AACH;;AACD,UAAMJ,SAAS,CAAC;AAAEP,MAAAA,SAAS,EAAE;AAAEC,QAAAA;AAAF;AAAb,KAAD,CAAf;AACH,GAPD,CAfwB,CAwBxB;;;AACA,MAAIF,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAAP;AACX,MAAID,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AAEb,SACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAED,IAAI,CAACe,OAAL,CAAaC,QAAvB;AAAiC,IAAA,GAAG,EAAEhB,IAAI,CAACe,OAAL,CAAaE,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BjB,IAAI,CAACe,OAAL,CAAaG,IAA3C,CADJ,CAFJ,EAKI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BlB,IAAI,CAACe,OAAL,CAAaE,WAA1C,CADJ,CALJ,EAQI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CARJ,EAWI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,CAXJ,EAcI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CAdJ,EAkBI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAlBJ,EAqBI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOjB,IAAI,CAACe,OAAL,CAAaI,KAApB,CADJ,CArBJ,EAwBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBJ,EAyBI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAzBJ,CALJ,CADJ;AAqCH,CAjED;;AAmEA,eAAerB,aAAf","sourcesContent":["\nimport React,  { useContext } from 'react'\nimport Router, { useRouter } from 'next/router';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { QUERY_PRODUCT, MY_PRODUCTS } from '../../graphql/Products';\nimport { AuthContext } from '../../contexts/AuthProvider';\nimport { ADD_TO_CART } from '../../graphql/Carts';\n\n\nconst ProductDetail = () => {\n\n    const route = useRouter()\n    const { data, loading, error } = useQuery(QUERY_PRODUCT, { variables: { id: route.query.productId } })\n    //console.log('ProductID:', route.query.productId)\n    const { user } = useContext(AuthContext)\n    console.log(\"produc Id\", data)\n\n    const [addToCart] = useMutation(ADD_TO_CART, {\n        onCompleted: data => {\n            console.log('data', data)\n        },\n        refetchQueries: [{ query: MY_PRODUCTS }]\n    })\n\n    const handleAddToCart = async (id) => {\n        // console.log('product_id:',  id)\n\n        if (!user) {\n            return Router.push('/signin')\n        }\n        await addToCart({ variables: { id } })\n    }\n\n    //    console.log('result', data)\n    if (error) return <p>Ooops....! Something went wrong, Plz try again later</p>\n    if (loading) return <p>loading...</p>\n\n    return (\n        <div className=\"product-detail-card\">\n            <div className=\"product-image\">\n                <img src={data.product.imageUrl} alt={data.product.description} />\n            </div>\n\n            <div className=\"product-info\">\n                <h3 className=\"header-title\">Product Detail</h3>\n                <div className=\"box-head\">\n                    <h2 className=\"product-name\">{data.product.name}</h2>\n                </div>\n                <div className=\"box-content\">\n                    <p className=\"product-desc\">{data.product.description}</p>\n                </div>\n                <div className=\"product-size\">\n                    <h3>product content here</h3>\n                </div>\n                <div className=\"product-color\">\n                    <h3>product color conyent here</h3>\n                </div>\n                <div className=\"product-rating\">\n                    <h3>Rate my product here</h3>\n                </div>\n\n                <div className=\"transport-service\">\n                    <h1>Shipping via</h1>\n                </div>\n                <div className=\"product-price\">\n                    <h1> ${data.product.price}</h1>\n                </div>\n                <hr />\n                <div className=\"box-footer\">\n                    <button type=\"submit\">ADD CART</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ProductDetail;\n"]},"metadata":{},"sourceType":"module"}