{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nvar stripePromise = loadStripe(process.env.STRIPE_PUBLIC_KEY);\n\nvar CheckoutForm = function CheckoutForm() {\n  var stripe = useStripe();\n  var elements = useElements();\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var _yield$stripe$createP, error, paymentMethod, id;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return stripe.createPaymentMethod({\n                type: 'card',\n                card: elements.getElement(CardElement)\n              });\n\n            case 3:\n              _yield$stripe$createP = _context.sent;\n              error = _yield$stripe$createP.error;\n              paymentMethod = _yield$stripe$createP.paymentMethod;\n\n              if (!error) {\n                id = paymentMethod.id;\n                console.log(paymentMethod);\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(CardElement, null), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn_payment__stripe\",\n    disabled: !stripe\n  }, \"Pay Now!\"));\n};\n\nvar CheckoutStripe = function CheckoutStripe() {\n  console.log(process.env.STRIPE_PUBLIC_KEY);\n  return __jsx(\"div\", null, __jsx(Elements, {\n    stripe: stripePromise\n  }, __jsx(CheckoutForm, null)));\n};\n\nexport default CheckoutStripe;","map":null,"metadata":{},"sourceType":"module"}