{"ast":null,"code":"var _jsxFileName = \"/home/loki/Desktop/Projects/Shoppin/shop-client/components/Navigation/index.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport { AuthContext } from '../../contexts/AuthProvider';\nimport { useQuery } from '@apollo/react-hooks';\nimport { MY_PRODUCTS } from '../../graphql/Products';\nimport { MY_CARTS } from '../../graphql/Carts';\nimport { MY_PROFILE } from '../../graphql/Profile';\nimport { Avatar } from 'antd';\nvar navLink = [{\n  title: 'HOME',\n  path: '/'\n}, {\n  title: 'PRODUCTS',\n  path: '/products'\n}, {\n  title: 'CARTS',\n  path: '/carts'\n}, {\n  title: 'SIGNIN',\n  path: '/signin'\n}, {\n  title: 'SIGNUP',\n  path: '/signup'\n}];\n\nfunction Navigation() {\n  _s();\n\n  var _this = this;\n\n  // const [menuActive, setMenuActive] = useState(false);\n  // const { user, signout, setAuthUser } = useContext(AuthContext);\n  // const { data } = useQuery(MY_PRODUCTS);\n  var _useQuery = useQuery(MY_PROFILE),\n      profile = _useQuery.profile,\n      loading = _useQuery.loading,\n      error = _useQuery.error; // console.log(user)\n  // console.log(data)\n\n\n  console.log(profile);\n  useEffect(function () {\n    if (data) {\n      setAuthUser(data.user);\n    }\n  }, [data]);\n  return __jsx(\"nav\", {\n    className: \"site-navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"menu-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Cubiz Store\"), __jsx(\"div\", {\n    className: \"menu-content-container \".concat(menuActive && 'active'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, !user && navLink.map(function (link, index) {\n    return __jsx(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 33\n      }\n    }, __jsx(Link, {\n      href: link.path,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 37\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 41\n      }\n    }, link.title)));\n  }), user && __jsx(React.Fragment, null, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 45\n    }\n  }, \"HOME\"))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }, __jsx(Link, {\n    href: \"/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 45\n    }\n  }, \"PRODUCTS\"))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }, __jsx(Link, {\n    href: \"/carts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 45\n    }\n  }, \"CARTS \", __jsx(\"span\", {\n    style: {\n      background: 'red',\n      color: 'white',\n      borderRadius: '50%',\n      padding: '3px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 54\n    }\n  }, user && user.cart && user.cart.length === 0 && 0, user && user.cart && user.cart.length > 0 && user.cart.reducer(function (sum, item) {\n    return sum + item.qualtity;\n  }, 0))))), __jsx(\"button\", {\n    className: \"btn-signout\",\n    onClick: signout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }, \"Logout\"), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }\n  }, __jsx(Link, {\n    href: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 45\n    }\n  }, \"SELL CENTER\"))))), __jsx(\"span\", {\n    className: \"avatar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, user && __jsx(React.Fragment, null, __jsx(Avatar, {\n    src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n    size: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }), __jsx(\"span\", {\n    className: \"menu-avatar-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 24\n    }\n  }, \"@\", user.username)))), __jsx(\"i\", {\n    className: \"ionicons icon ion-ios-menu\",\n    onClick: function onClick() {\n      return setMenuActive(!menuActive);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }\n  }));\n}\n\n_s(Navigation, \"K/U5NabfC+ghp72CIqC30+AkooQ=\", false, function () {\n  return [useQuery];\n});\n\n_c = Navigation;\nexport default Navigation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navigation\");","map":{"version":3,"sources":["/home/loki/Desktop/Projects/Shoppin/shop-client/components/Navigation/index.jsx"],"names":["React","useState","useContext","useEffect","Link","AuthContext","useQuery","MY_PRODUCTS","MY_CARTS","MY_PROFILE","Avatar","navLink","title","path","Navigation","profile","loading","error","console","log","data","setAuthUser","user","menuActive","map","link","index","background","color","borderRadius","padding","cart","length","reducer","sum","item","qualtity","signout","username","setMenuActive"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport { AuthContext } from '../../contexts/AuthProvider';\nimport { useQuery } from '@apollo/react-hooks';\nimport { MY_PRODUCTS } from '../../graphql/Products';\nimport { MY_CARTS } from '../../graphql/Carts';\nimport { MY_PROFILE } from '../../graphql/Profile';\n\nimport { Avatar } from 'antd';\n\n\nconst navLink = [\n    {\n        title: 'HOME',\n        path:'/'\n    },\n    {\n        title: 'PRODUCTS',\n        path:'/products'\n    },\n    {\n        title: 'CARTS',\n        path:'/carts'\n    },\n    {\n        title: 'SIGNIN',\n        path:'/signin'\n    },\n    {\n        title: 'SIGNUP',\n        path:'/signup'\n    }\n]\n\nfunction Navigation() {\n    // const [menuActive, setMenuActive] = useState(false);\n    // const { user, signout, setAuthUser } = useContext(AuthContext);\n    // const { data } = useQuery(MY_PRODUCTS);\n    const { profile, loading, error } = useQuery(MY_PROFILE);\n\n    // console.log(user)\n    // console.log(data)\n    console.log(profile)\n\n\n    useEffect(() => {\n        if(data){\n            setAuthUser(data.user)\n        }\n    }, [data])\n    return(\n        <nav className=\"site-navigation\">\n            <span className=\"menu-title\">Cubiz Store</span>\n           <div className={`menu-content-container ${menuActive && 'active'}`}>\n                <ul>\n                        {!user && \n                            navLink.map((link, index) => (\n                                <li key={index}>\n                                    <Link href={link.path}>\n                                        <a>{link.title}</a>\n                                    </Link>\n                                </li>\n                            ))}\n                        {\n                            user && \n                                <>\n                                    <li>\n                                        <Link href=\"/\">\n                                            <a>HOME</a>\n                                        </Link>\n                                    </li>\n                                    <li>\n                                        <Link href=\"/products\">\n                                            <a>PRODUCTS</a>\n                                        </Link>\n                                    </li>\n                                    <li>\n                                        <Link href=\"/carts\">\n                                            <a>CARTS <span\n                                                style={{\n                                                    background: 'red',\n                                                    color: 'white',\n                                                    borderRadius: '50%',\n                                                    padding: '3px'\n                                                }}\n                                            >\n                                                {user && user.cart && user.cart.length === 0 && 0}\n                                                {user && user.cart && user.cart.length > 0 && user.cart.reducer((sum, item) => sum + item.qualtity, 0)}\n                                            </span></a>\n                                        </Link>\n                                    </li>\n                                    <button className=\"btn-signout\" onClick={signout}\n                                    >Logout</button>\n                                    <li>\n                                        <Link href=\"/dashboard\">\n                                            <a>SELL CENTER</a>\n                                        </Link>\n                                    </li>\n                                </>\n                        }\n                    </ul>\n                    <span className=\"avatar-container\">\n                       {\n                           user && \n                           <>\n                            <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" size={40} />\n                       <span className=\"menu-avatar-name\">@{user.username}</span>\n                           </>\n                       }\n                    </span>\n           </div>\n           <i className=\"ionicons icon ion-ios-menu\" onClick={() => setMenuActive(!menuActive)} />\n        </nav>\n    )\n}\n\nexport default Navigation;"]},"metadata":{},"sourceType":"module"}