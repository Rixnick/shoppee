{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/home/loki/Desktop/Projects/Shoppin/shop-client/components/CartItems.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation DELETE_CART($id: ID!){\\n        deleteCart(id: $id){\\n            id\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { useMutation } from '@apollo/react-hooks'; //import {DELETE_CART} from '../graphql/Carts';\n\nimport { MY_PRODUCTS } from '../graphql/Products';\nimport gql from \"graphql-tag\";\nvar DELETE_CART = gql(_templateObject());\n\nfunction CartItems(_ref) {\n  _s();\n\n  var cart = _ref.cart;\n\n  var _useMutation = useMutation(DELETE_CART, {\n    onCompleted: function onCompleted(data) {\n      console.log(data);\n    },\n    refetchQueries: [{\n      query: MY_PRODUCTS\n    }]\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      deleteCart = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error;\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return deleteCart({\n                variables: {\n                  id: cart.id\n                }\n              });\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '2fr 2fr 2fr 2fr 2fr 2fr 2fr',\n      width: '100%',\n      borderTop: '1px solid grey',\n      borderBottom: '1px solid grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: cart.product.imageUrl,\n    alt: cart.product.description,\n    width: \"80px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, cart.product.name)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, cart.product.description)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, cart.product.price)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, cart.qualtity)), __jsx(\"div\", {\n    style: {\n      margin: 'auto',\n      alignItems: 'center',\n      marginBottom: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, cart.qualtity * cart.product.price)), __jsx(\"div\", {\n    style: _defineProperty({\n      margin: '5px',\n      alignItems: 'center',\n      display: 'flex'\n    }, \"alignItems\", 'center'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    style: {\n      margin: '10px',\n      background: 'red',\n      color: 'white',\n      padding: '10px',\n      border: 'none'\n    },\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, loading ? 'Deleting...' : error ? 'Error' : 'Delete')));\n}\n\n_s(CartItems, \"jIKsfmrICUXfVzqYO5eQeZqSQ94=\", false, function () {\n  return [useMutation];\n});\n\n_c = CartItems;\nexport default CartItems;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItems\");","map":{"version":3,"sources":["/home/loki/Desktop/Projects/Shoppin/shop-client/components/CartItems.jsx"],"names":["React","useMutation","MY_PRODUCTS","gql","DELETE_CART","CartItems","cart","onCompleted","data","console","log","refetchQueries","query","deleteCart","loading","error","handleSubmit","variables","id","display","gridTemplateColumns","width","borderTop","borderBottom","margin","alignItems","marginBottom","product","imageUrl","description","name","price","qualtity","background","color","padding","border"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\n//import {DELETE_CART} from '../graphql/Carts';\nimport {  MY_PRODUCTS } from '../graphql/Products';\nimport gql from \"graphql-tag\";\n\n\nconst  DELETE_CART = gql`\n    mutation DELETE_CART($id: ID!){\n        deleteCart(id: $id){\n            id\n        }\n    }\n`\n\nfunction CartItems({ cart }) {\n    const [deleteCart, {loading, error}] = useMutation(DELETE_CART, {\n            onCompleted: data => {\n                console.log(data)\n            },\n            refetchQueries: [{ query: MY_PRODUCTS }]\n    })\n\n    const handleSubmit = async () => {\n        try {\n            await deleteCart({ variables: { id: cart.id }})\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    return (\n        <div style={{\n            display: 'grid',\n            gridTemplateColumns: '2fr 2fr 2fr 2fr 2fr 2fr 2fr',\n            width: '100%',\n            borderTop: '1px solid grey',\n            borderBottom: '1px solid grey'\n        }}\n        >\n            <div style={{ margin: 'auto', alignItems: 'center', marginBottom: '5px' }}>\n                <img src={cart.product.imageUrl} alt={cart.product.description} width='80px' />\n            </div>\n            <div style={{ margin: 'auto', alignItems: 'center', marginBottom: '5px' }}>\n                <p>{cart.product.name}</p>\n            </div>\n            <div style={{ margin: 'auto', alignItems: 'center', marginBottom: '5px' }}>\n                <p>{cart.product.description}</p>\n            </div>\n            <div style={{ margin: 'auto', alignItems: 'center', marginBottom: '5px' }}>\n                <p>{cart.product.price}</p>\n            </div>\n            <div style={{ margin: 'auto', alignItems: 'center', marginBottom: '5px' }}>\n                <p>{cart.qualtity}</p>\n            </div>\n            <div style={{ margin: 'auto', alignItems: 'center', marginBottom: '5px' }}>\n                <p>{cart.qualtity * cart.product.price}</p>\n            </div>\n            <div style={{ margin: '5px', alignItems: 'center', display: 'flex', alignItems: 'center' }}>\n                <button style={{ margin: '10px', background: 'red', color: 'white', padding: '10px', border: 'none' }}\n                    onClick={handleSubmit} \n        >{loading ? 'Deleting...': error ? 'Error' : 'Delete'}</button>\n            </div>\n        </div>\n    )\n}\n\nexport default CartItems\n"]},"metadata":{},"sourceType":"module"}