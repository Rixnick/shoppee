{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/loki/Desktop/Projects/Shoppin/shop-client/components/UserProduct/index.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState } from 'react';\nimport ProductList from './ProductList';\nimport Backdrop from '../Backdrop';\nimport Modal from '../Modal';\nimport CreateProduct from './CreateProduct';\nimport { useMutation } from '@apollo/react-hooks';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport { QUERY_PRODUCTS, CREATE_PRODUCT, UPDATE_PRODUCT, MY_PRODUCTS } from '../../graphql/Products';\n\nvar UserProduct = /*#__PURE__*/function (_Component) {\n  _inherits(UserProduct, _Component);\n\n  var _super = _createSuper(UserProduct);\n\n  function UserProduct(props) {\n    var _this;\n\n    _classCallCheck(this, UserProduct);\n\n    _this = _super.call(this, propd);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      creating: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"CreateEventHandler\", function () {\n      _this.setState({\n        creating: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"modalConfirmHandler\", function () {\n      _this.setState({\n        creating: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"modalCancelHandler\", function () {\n      _this.setState({\n        creating: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderCreateProduct\", function () {\n      var _s = $RefreshSig$();\n\n      return _s(function () {\n        _s();\n\n        var _useState = useState(false),\n            edit = _useState[0],\n            setEdit = _useState[1];\n\n        var _useState2 = useState(null),\n            file = _useState2[0],\n            setFile = _useState2[1];\n\n        var _useState3 = useState({\n          name: '',\n          description: '',\n          price: '',\n          imageUrl: ''\n        }),\n            productData = _useState3[0],\n            setProductData = _useState3[1];\n\n        var _useMutation = useMutation(CREATE_PRODUCT, {\n          refetchQueries: [{\n            query: QUERY_PRODUCTS\n          }]\n        }),\n            _useMutation2 = _slicedToArray(_useMutation, 2),\n            createProduct = _useMutation2[0],\n            _useMutation2$ = _useMutation2[1],\n            loading = _useMutation2$.loading,\n            error = _useMutation2$.error;\n\n        var handleChange = function handleChange(e) {\n          return setProductData(_objectSpread(_objectSpread({}, productData), {}, _defineProperty({}, e.target.name, e.target.value)));\n        };\n\n        var selectFile = function selectFile(e) {\n          var files = e.target.files;\n          setFile(files[0]); //console.log(files)\n        }; //Upload File to Cloudinary\n\n\n        var uploadFile = /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            var data, res, result;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    data = new FormData();\n                    data.append('file', file);\n                    data.append('upload_preset', 'shoppin');\n                    _context.next = 5;\n                    return fetch('https://api.cloudinary.com/v1_1/swizce/image/upload', {\n                      method: 'post',\n                      body: data\n                    });\n\n                  case 5:\n                    res = _context.sent;\n                    _context.next = 8;\n                    return res.json();\n\n                  case 8:\n                    result = _context.sent;\n                    return _context.abrupt(\"return\", result.secure_url);\n\n                  case 10:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          return function uploadFile() {\n            return _ref.apply(this, arguments);\n          };\n        }();\n\n        var handleSubmit = /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n            var url, result;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.prev = 0;\n                    e.preventDefault();\n                    _context2.next = 4;\n                    return uploadFile();\n\n                  case 4:\n                    url = _context2.sent;\n\n                    if (!url) {\n                      _context2.next = 10;\n                      break;\n                    }\n\n                    _context2.next = 8;\n                    return createProduct({\n                      variables: _objectSpread(_objectSpread({}, productData), {}, {\n                        price: +productData.price,\n                        imageUrl: url\n                      })\n                    });\n\n                  case 8:\n                    result = _context2.sent;\n                    return _context2.abrupt(\"return\", result);\n\n                  case 10:\n                    Router.push('/userProducts');\n                    _context2.next = 16;\n                    break;\n\n                  case 13:\n                    _context2.prev = 13;\n                    _context2.t0 = _context2[\"catch\"](0);\n                    console.log(_context2.t0);\n\n                  case 16:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2, null, [[0, 13]]);\n          }));\n\n          return function handleSubmit(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }();\n\n        return __jsx(\"div\", {\n          className: \"create-product-card\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }\n        }, __jsx(\"div\", {\n          className: \"create-product_tabs\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }\n        }, __jsx(\"h5\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        }, \"create More tabs here\"), __jsx(\"ul\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }\n        }, __jsx(\"li\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          href: \"\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }\n        }, \"Product Basic Info\")), __jsx(\"li\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          href: \"\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }\n        }, \"Product Image Gallary\")), __jsx(\"li\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          href: \"\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }\n        }, \"Product Promotion\")), __jsx(\"li\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          href: \"\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }\n        }, \"Product Slug detail\")), __jsx(\"li\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          href: \"\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }\n        }, \"Product Release QR-Code\")))), __jsx(\"div\", {\n          className: \"create-product_form\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }\n        }, __jsx(\"form\", {\n          onSubmit: handleSubmit,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"info-state\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }\n        }, !edit ? __jsx(React.Fragment, null, __jsx(\"label\", {\n          htmlFor: \"productname\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 37\n          }\n        }, \"Product Name:\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Enter Product Name\",\n          value: productData.name,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 37\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"address\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 37\n          }\n        }, \"Product Desc:\"), __jsx(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"Product Description\",\n          value: productData.description,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 37\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"city\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 37\n          }\n        }, \"Price:\"), __jsx(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          placeholder: \"Price\",\n          value: productData.price,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 37\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 37\n          }\n        }, \"Stock Qty:\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 37\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 37\n          }\n        }, \"--Select Categories--\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 37\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 37\n          }\n        }, \"--Select Brands--\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 37\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 37\n          }\n        }, \"Product Image\"), __jsx(\"input\", {\n          type: \"file\",\n          name: \"file\",\n          placeholder: \"file *.png, *.jpg...\",\n          onChange: selectFile,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 37\n          }\n        })) : __jsx(React.Fragment, null, __jsx(\"label\", {\n          htmlFor: \"productname\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 41\n          }\n        }, \"Product Name:\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Enter Product Name\",\n          value: productData.name,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 41\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"address\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 41\n          }\n        }, \"Product Desc:\"), __jsx(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"Product Description\",\n          value: productData.description,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 41\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"city\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 41\n          }\n        }, \"Price:\"), __jsx(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          placeholder: \"Price\",\n          value: productData.price,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 41\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 41\n          }\n        }, \"Stock Qty:\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 41\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 41\n          }\n        }, \"--Select Categories--\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 41\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 41\n          }\n        }, \"--Select Brands--\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 41\n          }\n        }), __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 41\n          }\n        }, \"Product Image\"), __jsx(\"input\", {\n          type: \"file\",\n          name: \"file\",\n          placeholder: \"file *.png, *.jpg...\",\n          onChange: selectFile,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 41\n          }\n        }))), __jsx(\"div\", {\n          className: \"create-product-footer\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }\n        }, !edit ? __jsx(React.Fragment, null, __jsx(\"button\", {\n          className: \"btn-back-products\",\n          onClick: function onClick() {\n            return Router.push('/userProducts');\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 37\n          }\n        }, \"Back\"), __jsx(\"button\", {\n          className: \"btn-submit\",\n          type: \"submit\",\n          style: {\n            cursor: !productData.name || !productData.description || !productData.price || !file || loading ? 'not-allowed' : 'pointer'\n          },\n          disabled: !productData.name || !productData.description || !productData.price || !file || loading,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 37\n          }\n        }, \"Submit\", loading ? 'Submiting...' : '')) : __jsx(React.Fragment, null, __jsx(\"button\", {\n          className: \"btn-back-products\",\n          onClick: function onClick() {\n            return Router.push('/userProducts');\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 37\n          }\n        }, \"Back\"), __jsx(\"button\", {\n          className: \"btn-submit\",\n          type: \"submit\",\n          style: {\n            cursor: !productData.name || !productData.description || !productData.price || !file || loading ? 'not-allowed' : 'pointer'\n          },\n          disabled: !productData.name || !productData.description || !productData.price || !file || loading,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 37\n          }\n        }, \"Update\", loading ? 'Submiting...' : ''))))));\n      }, \"w7xTOMUr0q5NHZMjVncsH6RLBvs=\", false, function () {\n        return [useMutation];\n      });\n    });\n\n    _this.nameElRef = /*#__PURE__*/React.createRef();\n    _this.descriptionElRef = /*#__PURE__*/React.createRef();\n    _this.priceElRef = /*#__PURE__*/React.createRef();\n    _this.imageUrlElRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(UserProduct, [{\n    key: \"render\",\n    value: function render() {\n      var CreateForm = this._renderCreateProduct();\n\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"product-content__header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 17\n        }\n      }, __jsx(\"h2\", {\n        className: \"dash-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }\n      }, \"All Products List\"), __jsx(\"a\", {\n        onClick: this.CreateEventHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }\n      }, __jsx(\"span\", {\n        className: \"ti-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }\n      }), __jsx(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 25\n        }\n      }, \"Add Product\"))), this.state.creating && __jsx(Backdrop, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 42\n        }\n      }), this.state.creating && __jsx(Modal, {\n        title: \"Create Product\",\n        canCancel: true,\n        canConfirm: true,\n        onCancel: this.modalCancelHandler,\n        onConfirm: this.modalConfirmHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }\n      }, __jsx(\"form\", {\n        action: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 25\n        }\n      }, __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 33\n        }\n      }, \"Product Name\"), __jsx(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"product name\",\n        ref: this.nameElRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 33\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 33\n        }\n      }, \"Product Description\"), __jsx(\"textarea\", {\n        type: \"text\",\n        id: \"description\",\n        name: \"description\",\n        placeholder: \"product description\",\n        ref: this.descriptionElRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 33\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 33\n        }\n      }, \"Price\"), __jsx(\"input\", {\n        type: \"number\",\n        id: \"price\",\n        name: \"price\",\n        placeholder: \"price\",\n        ref: this.priceElRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 33\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 33\n        }\n      }, \"Image\"), __jsx(\"input\", {\n        type: \"text\",\n        id: \"image\",\n        name: \"image\",\n        placeholder: \"product image\",\n        ref: this.imageUrlElRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 33\n        }\n      })))), __jsx(ProductList, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return UserProduct;\n}(Component);\n\nexport default UserProduct;","map":{"version":3,"sources":["/home/loki/Desktop/Projects/Shoppin/shop-client/components/UserProduct/index.jsx"],"names":["React","Component","useState","ProductList","Backdrop","Modal","CreateProduct","useMutation","fetch","Router","QUERY_PRODUCTS","CREATE_PRODUCT","UPDATE_PRODUCT","MY_PRODUCTS","UserProduct","props","propd","creating","setState","edit","setEdit","file","setFile","name","description","price","imageUrl","productData","setProductData","refetchQueries","query","createProduct","loading","error","handleChange","e","target","value","selectFile","files","uploadFile","data","FormData","append","method","body","res","json","result","secure_url","handleSubmit","preventDefault","url","variables","push","console","log","cursor","nameElRef","createRef","descriptionElRef","priceElRef","imageUrlElRef","CreateForm","_renderCreateProduct","CreateEventHandler","state","modalCancelHandler","modalConfirmHandler"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react'\nimport ProductList from './ProductList';\nimport Backdrop from '../Backdrop';\nimport Modal from '../Modal';\nimport CreateProduct from './CreateProduct';\n\n\nimport { useMutation } from '@apollo/react-hooks';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport { QUERY_PRODUCTS, CREATE_PRODUCT, UPDATE_PRODUCT, MY_PRODUCTS } from '../../graphql/Products';\n\n\nclass UserProduct extends Component {\n    state = {\n        creating: false\n    };\n\n    constructor(props) {\n        super(propd);\n        this.nameElRef = React.createRef();\n        this.descriptionElRef = React.createRef();\n        this.priceElRef = React.createRef();\n        this.imageUrlElRef = React.createRef();\n    }\n    CreateEventHandler = () => {\n        this.setState({ creating: true });\n    };\n\n    modalConfirmHandler = () => {\n        this.setState({ creating: false });\n    };\n\n    modalCancelHandler = () => {\n        this.setState({ creating: false });\n    };\n    /**\n     * Create Form Component with Function\n     */\n    _renderCreateProduct = () => () => {\n        const [edit, setEdit] = useState(false)\n        const [file, setFile] = useState(null)\n        const [productData, setProductData] = useState({\n            name: '',\n            description: '',\n            price: '',\n            imageUrl: ''\n        })\n\n        const [createProduct, { loading, error }] = useMutation(CREATE_PRODUCT, {\n            refetchQueries: [{ query: QUERY_PRODUCTS }]\n        })\n\n        const handleChange = e => setProductData({\n            ...productData,\n            [e.target.name]: e.target.value\n        })\n\n        const selectFile = e => {\n            const files = e.target.files\n            setFile(files[0])\n            //console.log(files)\n        }\n\n        //Upload File to Cloudinary\n        const uploadFile = async () => {\n            const data = new FormData()\n            data.append('file', file)\n            data.append('upload_preset', 'shoppin')\n            const res = await fetch('https://api.cloudinary.com/v1_1/swizce/image/upload', {\n                method: 'post',\n                body: data\n            })\n            const result = await res.json()\n            //console.log('image result',  result)\n            return result.secure_url\n        }\n\n        const handleSubmit = async e => {\n            try {\n                e.preventDefault()\n                const url = await uploadFile()\n                // console.log('image Url:', url)\n                if (url) {\n                    const result = await createProduct({\n                        variables: {\n                            ...productData,\n                            price: +productData.price,\n                            imageUrl: url\n                        },\n                    })\n                    //console.log('Product Data:', result)\n                    return result;\n                }\n                Router.push('/userProducts')\n            } catch (error) {\n                console.log(error)\n            }\n        }\n        return (\n            <div className=\"create-product-card\">\n                <div className=\"create-product_tabs\">\n                    <h5>create More tabs here</h5>\n                    <ul>\n                        <li><a href=\"\">Product Basic Info</a></li>\n                        <li><a href=\"\">Product Image Gallary</a></li>\n                        <li><a href=\"\">Product Promotion</a></li>\n                        <li><a href=\"\">Product Slug detail</a></li>\n                        <li><a href=\"\">Product Release QR-Code</a></li>\n                    </ul>\n                </div>\n                <div className=\"create-product_form\">\n                    <form onSubmit={handleSubmit} >\n                        <div className=\"info-state\">\n                            {\n                                !edit ? <>\n                                    <label htmlFor=\"productname\">Product Name:</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"name\"\n                                        placeholder=\"Enter Product Name\"\n                                        value={productData.name}\n                                        onChange={handleChange}\n                                    />\n                                    <label htmlFor=\"address\">Product Desc:</label>\n                                    <textarea\n                                        type=\"text\"\n                                        name=\"description\"\n                                        placeholder=\"Product Description\"\n                                        value={productData.description}\n                                        onChange={handleChange}\n                                    />\n                                    <label htmlFor=\"city\">Price:</label>\n                                    <input\n                                        type=\"number\"\n                                        name=\"price\"\n                                        placeholder=\"Price\"\n                                        value={productData.price}\n                                        onChange={handleChange}\n                                    />\n                                    <label htmlFor=\"contact\">Stock Qty:</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"contact\"\n                                        placeholder=\"Contact No.\"\n                                    />\n                                    <label htmlFor=\"contact\">--Select Categories--</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"contact\"\n                                        placeholder=\"Contact No.\"\n                                    />\n                                    <label htmlFor=\"contact\">--Select Brands--</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"contact\"\n                                        placeholder=\"Contact No.\"\n                                    />\n                                    <label htmlFor=\"contact\">Product Image</label>\n                                    <input\n                                        type=\"file\"\n                                        name=\"file\"\n                                        placeholder=\"file *.png, *.jpg...\"\n                                        onChange={selectFile}\n                                    />\n                                </> : <>\n                                        <label htmlFor=\"productname\">Product Name:</label>\n                                        <input\n                                            type=\"text\"\n                                            name=\"name\"\n                                            placeholder=\"Enter Product Name\"\n                                            value={productData.name}\n                                            onChange={handleChange}\n                                        />\n                                        <label htmlFor=\"address\">Product Desc:</label>\n                                        <textarea\n                                            type=\"text\"\n                                            name=\"description\"\n                                            placeholder=\"Product Description\"\n                                            value={productData.description}\n                                            onChange={handleChange}\n                                        />\n                                        <label htmlFor=\"city\">Price:</label>\n                                        <input\n                                            type=\"number\"\n                                            name=\"price\"\n                                            placeholder=\"Price\"\n                                            value={productData.price}\n                                            onChange={handleChange}\n                                        />\n                                        <label htmlFor=\"contact\">Stock Qty:</label>\n                                        <input\n                                            type=\"text\"\n                                            name=\"contact\"\n                                            placeholder=\"Contact No.\"\n                                        />\n                                        <label htmlFor=\"contact\">--Select Categories--</label>\n                                        <input\n                                            type=\"text\"\n                                            name=\"contact\"\n                                            placeholder=\"Contact No.\"\n                                        />\n                                        <label htmlFor=\"contact\">--Select Brands--</label>\n                                        <input\n                                            type=\"text\"\n                                            name=\"contact\"\n                                            placeholder=\"Contact No.\"\n                                        />\n                                        <label htmlFor=\"contact\">Product Image</label>\n                                        <input\n                                            type=\"file\"\n                                            name=\"file\"\n                                            placeholder=\"file *.png, *.jpg...\"\n                                            onChange={selectFile}\n                                        />\n                                    </>\n                            }\n\n                        </div>\n                        <div className=\"create-product-footer\">\n                        {\n                            !edit ?\n                                <>\n                                    <button className=\"btn-back-products\" onClick={() => Router.push('/userProducts')}>Back</button>\n                                    <button\n                                        className=\"btn-submit\"\n                                        type=\"submit\"\n                                        style={{ cursor: !productData.name || !productData.description || !productData.price || !file || loading ? 'not-allowed' : 'pointer' }}\n                                        disabled={!productData.name || !productData.description || !productData.price || !file || loading}\n                                    >Submit{loading ? 'Submiting...' : ''}</button>\n                                </>\n                                :\n                                <>\n                                    <button className=\"btn-back-products\" onClick={() => Router.push('/userProducts')}>Back</button>\n                                    <button\n                                        className=\"btn-submit\"\n                                        type=\"submit\"\n                                        style={{ cursor: !productData.name || !productData.description || !productData.price || !file || loading ? 'not-allowed' : 'pointer' }}\n                                        disabled={!productData.name || !productData.description || !productData.price || !file || loading}\n                                    >Update{loading ? 'Submiting...' : ''}</button>\n                                </>\n                        }\n                    </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        const CreateForm = this._renderCreateProduct();\n        return (\n            <>\n                <div className=\"product-content__header\">\n                    <h2 className=\"dash-title\">All Products List</h2>\n                    <a onClick={this.CreateEventHandler}>\n                        <span className=\"ti-plus\"></span>\n                        <small>Add Product</small>\n                    </a>\n                </div>\n                { this.state.creating && <Backdrop />}\n                { this.state.creating && (\n                    <Modal title=\"Create Product\"\n                        canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.modalConfirmHandler}>\n                        {/* <CreateForm /> */}\n                        <form action=\"\">\n                            <div className=\"form-control\">\n                                <label htmlFor=\"name\">Product Name</label>\n                                <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"product name\" ref={this.nameElRef}/>\n                            </div>\n\n                            <div className=\"form-control\">\n                                <label htmlFor=\"description\">Product Description</label>\n                                <textarea type=\"text\" id=\"description\" name=\"description\" placeholder=\"product description\" ref={this.descriptionElRef}/>\n                            </div>\n\n                            <div className=\"form-control\">\n                                <label htmlFor=\"price\">Price</label>\n                                <input type=\"number\" id=\"price\" name=\"price\" placeholder=\"price\" ref={this.priceElRef}/>\n                            </div>\n\n                            {/* <div className=\"form-control\">\n                                <label htmlFor=\"name\">Product Name</label>\n                                <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"product name\"/>\n                            </div> */}\n\n                            <div className=\"form-control\">\n                                <label htmlFor=\"image\">Image</label>\n                                <input type=\"text\" id=\"image\" name=\"image\" placeholder=\"product image\" ref={this.imageUrlElRef}/>\n                            </div>\n\n                        </form>\n                    </Modal>)}\n                <ProductList />\n            </>\n        )\n    }\n}\n\nexport default UserProduct;\n"]},"metadata":{},"sourceType":"module"}