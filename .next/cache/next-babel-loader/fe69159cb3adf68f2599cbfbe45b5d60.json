{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { useQuery } from '@apollo/react-hooks';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport { QUERY_PRODUCTS } from '../graphql/Products'; //import Router from 'next/router';\n\nfunction Products() {\n  var _useQuery = useQuery(QUERY_PRODUCTS),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error; //, {pollInterval:3000} Add pollInterval to refresh page per second\n\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user;\n\n  if (error) return __jsx(\"p\", null, \"Ooops....! Something went wrong, Plz try again later\");\n  if (loading) return __jsx(\"p\", null, \"loading...\");\n  return __jsx(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\n      marginTop: '40px',\n      gridGap: '75px'\n    }\n  }, data.products.map(function (prod) {\n    return __jsx(\"div\", {\n      key: prod.id,\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginBottom: '8px',\n        border: 'solid 0.5px black',\n        padding: '15px'\n      }\n    }, __jsx(Link, {\n      href: \"/products/product_detail\",\n      as: \"/products/\".concat(prod.id)\n    }, __jsx(\"a\", null, __jsx(\"img\", {\n      src: prod.imageUrl,\n      alt: prod.description,\n      width: \"250px\"\n    }))), __jsx(\"h3\", null, prod.name), __jsx(\"h4\", null, prod.price, \" THB\"), user && user.id === prod.user.id ? __jsx(\"button\", {\n      style: {\n        background: 'orange',\n        color: 'white',\n        padding: '10px',\n        cursor: 'pointer',\n        border: 'none',\n        borderRadius: '10px'\n      },\n      onClick: function onClick() {\n        return Router.push('/manageProducts');\n      }\n    }, \"Manage Products\") : __jsx(\"button\", {\n      style: {\n        background: 'green',\n        color: 'white',\n        padding: '10px',\n        cursor: 'pointer',\n        border: 'none',\n        borderRadius: '10px'\n      }\n    }, \"Add To Cart\"));\n  }));\n}\n\nexport default Products;","map":null,"metadata":{},"sourceType":"module"}