{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{JFjd:function(n,e,t){\"use strict\";t.d(e,\"b\",(function(){return f})),t.d(e,\"d\",(function(){return p})),t.d(e,\"c\",(function(){return l})),t.d(e,\"a\",(function(){return g})),t.d(e,\"e\",(function(){return m}));var r=t(\"h4VS\"),o=t(\"lTCR\"),i=t.n(o);function c(){var n=Object(r.a)([\"\\n  mutation UPDATE_PRODUCT(\\n    $name: String!, \\n    $description: String!, \\n    $price: Float!, \\n    $imageUrl: String!\\n    ){\\n    updateProduct(\\n        name: $name\\n        description: $description\\n        price: $price\\n        imageUrl: $imageUrl\\n      ){\\n        id\\n        name\\n        description\\n        price\\n        imageUrl\\n    }\\n  }\\n\"]);return c=function(){return n},n}function u(){var n=Object(r.a)([\"\\n  mutation CREATE_PRODUCT(\\n    $id: ID!\\n    $name: String, \\n    $description: String, \\n    $price: Float, \\n    $imageUrl: String\\n    ){\\n    createProduct(\\n        id: $id\\n        name: $name\\n        description: $description\\n        price: $price\\n        imageUrl: $imageUrl\\n      ){\\n        id\\n        name\\n        description\\n        price\\n        imageUrl\\n    }\\n  }\\n\"]);return u=function(){return n},n}function a(){var n=Object(r.a)([\"\\n  query QUERY_PRODUCT($id: ID!) {\\n    product(id: $id){\\n      id\\n      name\\n      description\\n      imageUrl\\n      price\\n      createdAt\\n    }\\n  }\\n\"]);return a=function(){return n},n}function d(){var n=Object(r.a)([\"\\n  query {\\n  products{\\n    id\\n    name\\n    description\\n    price\\n    imageUrl\\n    createdAt\\n    user{\\n      id\\n    }\\n  }\\n} \\n\"]);return d=function(){return n},n}function s(){var n=Object(r.a)([\"\\nquery MY_PRODUCTS {\\n    user{\\n      id\\n      username\\n      email\\n      products{\\n        id\\n        name\\n        description\\n        price\\n        imageUrl\\n      }\\n    }\\n  }\\n\\n\"]);return s=function(){return n},n}var f=i()(s()),p=i()(d()),l=i()(a()),g=i()(u()),m=i()(c())},Kpik:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/products\",function(){return t(\"q2dU\")}])},YFqc:function(n,e,t){n.exports=t(\"cTJO\")},cTJO:function(n,e,t){\"use strict\";var r=t(\"J4zp\"),o=t(\"284h\");e.__esModule=!0,e.default=void 0;var i,c=o(t(\"q1tI\")),u=t(\"elyg\"),a=t(\"nOHt\"),d=new Map,s=window.IntersectionObserver,f={};var p=function(n,e){var t=i||(s?i=new s((function(n){n.forEach((function(n){if(d.has(n.target)){var e=d.get(n.target);(n.isIntersecting||n.intersectionRatio>0)&&(i.unobserve(n.target),d.delete(n.target),e())}}))}),{rootMargin:\"200px\"}):void 0);return t?(t.observe(n),d.set(n,e),function(){try{t.unobserve(n)}catch(e){console.error(e)}d.delete(n)}):function(){}};function l(n,e,t,r){(0,u.isLocalURL)(e)&&(n.prefetch(e,t,r).catch((function(n){0})),f[e+\"%\"+t]=!0)}var g=function(n){var e=!1!==n.prefetch,t=c.default.useState(),o=r(t,2),i=o[0],d=o[1],g=(0,a.useRouter)(),m=g&&g.pathname||\"/\",v=c.default.useMemo((function(){var e=(0,u.resolveHref)(m,n.href);return{href:e,as:n.as?(0,u.resolveHref)(m,n.as):e}}),[m,n.href,n.as]),h=v.href,w=v.as;c.default.useEffect((function(){if(e&&s&&i&&i.tagName&&(0,u.isLocalURL)(h)&&!f[h+\"%\"+w])return p(i,(function(){l(g,h,w)}))}),[e,i,h,w,g]);var y=n.children,b=n.replace,U=n.shallow,C=n.scroll;\"string\"===typeof y&&(y=c.default.createElement(\"a\",null,y));var E=c.Children.only(y),x={ref:function(n){n&&d(n),E&&\"object\"===typeof E&&E.ref&&(\"function\"===typeof E.ref?E.ref(n):\"object\"===typeof E.ref&&(E.ref.current=n))},onClick:function(n){E.props&&\"function\"===typeof E.props.onClick&&E.props.onClick(n),n.defaultPrevented||function(n,e,t,r,o,i,c){(\"A\"!==n.currentTarget.nodeName||!function(n){var e=n.currentTarget.target;return e&&\"_self\"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)&&(0,u.isLocalURL)(t))&&(n.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](t,r,{shallow:i}).then((function(n){n&&c&&(window.scrollTo(0,0),document.body.focus())})))}(n,g,h,w,b,U,C)}};return e&&(x.onMouseEnter=function(n){(0,u.isLocalURL)(h)&&(E.props&&\"function\"===typeof E.props.onMouseEnter&&E.props.onMouseEnter(n),l(g,h,w,{priority:!0}))}),(n.passHref||\"a\"===E.type&&!(\"href\"in E.props))&&(x.href=(0,u.addBasePath)(w)),c.default.cloneElement(E,x)};e.default=g},nycs:function(n,e,t){\"use strict\";t.d(e,\"a\",(function(){return s}));var r=t(\"q1tI\"),o=t.n(r),i=t(\"p46w\"),c=t.n(i),u=t(\"nOHt\"),a=t.n(u),d=o.a.createElement,s=Object(r.createContext)();e.b=function(n){var e=n.children,t=n.userData,o=Object(r.useState)(t),i=o[0],u=o[1];Object(r.useEffect)((function(){var n=function(n){\"logout\"===n.key&&(u(null),a.a.push(\"/products\"))};return window.addEventListener(\"storage\",n),function(){window.removeEventListener(\"storage\",n),window.localStorage.removeItem(\"logout\")}}),[]);return d(s.Provider,{value:{user:i,setAuthUser:function(n){return u(n)},signout:function(){c.a.remove(\"jwtToken\"),u(null),localStorage.setItem(\"logout\",Date.now()),a.a.push(\"/products\")}}},e)}},p46w:function(n,e,t){var r,o;!function(i){if(void 0===(o=\"function\"===typeof(r=i)?r.call(e,t,e,n):r)||(n.exports=o),!0,n.exports=i(),!!0){var c=window.Cookies,u=window.Cookies=i();u.noConflict=function(){return window.Cookies=c,u}}}((function(){function n(){for(var n=0,e={};n<arguments.length;n++){var t=arguments[n];for(var r in t)e[r]=t[r]}return e}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function o(){}function i(e,t,i){if(\"undefined\"!==typeof document){\"number\"===typeof(i=n({path:\"/\"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():\"\";try{var c=JSON.stringify(t);/^[\\{\\[]/.test(c)&&(t=c)}catch(d){}t=r.write?r.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var u=\"\";for(var a in i)i[a]&&(u+=\"; \"+a,!0!==i[a]&&(u+=\"=\"+i[a].split(\";\")[0]));return document.cookie=e+\"=\"+t+u}}function c(n,t){if(\"undefined\"!==typeof document){for(var o={},i=document.cookie?document.cookie.split(\"; \"):[],c=0;c<i.length;c++){var u=i[c].split(\"=\"),a=u.slice(1).join(\"=\");t||'\"'!==a.charAt(0)||(a=a.slice(1,-1));try{var d=e(u[0]);if(a=(r.read||r)(a,d)||e(a),t)try{a=JSON.parse(a)}catch(s){}if(o[d]=a,n===d)break}catch(s){}}return n?o[n]:o}}return o.set=i,o.get=function(n){return c(n,!1)},o.getJSON=function(n){return c(n,!0)},o.remove=function(e,t){i(e,\"\",n(t,{expires:-1}))},o.defaults={},o.withConverter=t,o}((function(){}))}))},q2dU:function(n,e,t){\"use strict\";t.r(e);var r=t(\"q1tI\"),o=t.n(r),i=t(\"YFqc\"),c=t.n(i),u=t(\"VX74\"),a=t(\"nycs\"),d=t(\"JFjd\"),s=t(\"nOHt\"),f=t.n(s),p=o.a.createElement;var l=function(){var n=Object(u.useQuery)(d.d),e=n.data,t=n.loading,o=n.error,i=Object(r.useContext)(a.a).user;return o?p(\"p\",null,\"Ooops....! Something went wrong, Plz try again later\"):t?p(\"p\",null,\"loading...\"):p(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr 1fr 1fr 1fr\",marginTop:\"40px\",gridGap:\"75px\"}},e.products.map((function(n){return p(\"div\",{key:n.id,style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",marginBottom:\"8px\",border:\"solid 0.5px black\",padding:\"15px\"}},p(c.a,{href:\"/products/product_detail\",as:\"/products/\".concat(n.id)},p(\"a\",null,p(\"img\",{src:n.imageUrl,alt:n.description,width:\"250px\"}))),p(\"h3\",null,n.name),p(\"h4\",null,n.price,\" THB\"),i&&i.id===n.user.id?p(\"button\",{style:{background:\"orange\",color:\"white\",padding:\"10px\",cursor:\"pointer\",border:\"none\",borderRadius:\"10px\"},onClick:function(){return f.a.push(\"/manageProducts\")}},\"Manage Products\"):p(\"button\",{style:{background:\"green\",color:\"white\",padding:\"10px\",cursor:\"pointer\",border:\"none\",borderRadius:\"10px\"}},\"Add To Cart\"))})))},g=o.a.createElement;e.default=function(){return g(l,null)}}},[[\"Kpik\",0,1,2,3,4]]]);","extractedComments":[]}