{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{\"+IQC\":function(n,e,t){\"use strict\";var r=t(\"o0o1\"),o=t.n(r),i=t(\"HaE+\"),c=t(\"ODXe\"),a=t(\"q1tI\"),u=t.n(a),s=t(\"nOHt\"),f=t.n(s),d=t(\"YFqc\"),l=t.n(d),p=t(\"nycs\"),v=t(\"uc3D\"),m=t(\"kAMa\"),y=t(\"JFjd\"),g=u.a.createElement;e.a=function(n){var e=n.prod,t=Object(a.useContext)(p.a).user,r=Object(v.useMutation)(m.a,{onCompleted:function(n){return n},refetchQueries:[{query:y.b}]}),s=Object(c.a)(r,2),d=s[0],h=s[1],b=h.loading,w=(h.error,function(){var n=Object(i.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt(\"return\",f.a.push(\"/signin\"));case 2:return n.next=4,d({variables:{id:e}});case 4:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return g(\"div\",{className:\"product-cart-single\"},g(\"div\",{className:\"produc-card-header\"},g(\"img\",{src:e.imageUrl,alt:e.description})),g(\"div\",{className:\"produc-card-body\"},g(\"h2\",null,e.name),g(\"h3\",null,\"$\",e.price)),g(\"div\",{className:\"produc-card-footer\"},t&&t.id===e.user.id?g(\"a\",{type:\"button\",onClick:function(){return f.a.push(\"/userProducts\")}},\"Manage\"):g(u.a.Fragment,null,g(l.a,{href:\"/products/product_detail\",as:\"/products/\".concat(e.id)},\"View \"),g(\"a\",{type:\"button\",onClick:function(){return w(e.id)}},b?\"Processing....\":\"Buy Now!\"))))}},BsWD:function(n,e,t){\"use strict\";t.d(e,\"a\",(function(){return o}));var r=t(\"a3WO\");function o(n,e){if(n){if(\"string\"===typeof n)return Object(r.a)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return\"Object\"===t&&n.constructor&&(t=n.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(n):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(n,e):void 0}}},DSFK:function(n,e,t){\"use strict\";function r(n){if(Array.isArray(n))return n}t.d(e,\"a\",(function(){return r}))},\"HaE+\":function(n,e,t){\"use strict\";function r(n,e,t,r,o,i,c){try{var a=n[i](c),u=a.value}catch(s){return void t(s)}a.done?e(u):Promise.resolve(u).then(r,o)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var c=n.apply(e,t);function a(n){r(c,o,i,a,u,\"next\",n)}function u(n){r(c,o,i,a,u,\"throw\",n)}a(void 0)}))}}t.d(e,\"a\",(function(){return o}))},JFjd:function(n,e,t){\"use strict\";t.d(e,\"b\",(function(){return d})),t.d(e,\"d\",(function(){return l})),t.d(e,\"c\",(function(){return p})),t.d(e,\"a\",(function(){return v}));var r=t(\"h4VS\"),o=t(\"lTCR\"),i=t.n(o);function c(){var n=Object(r.a)([\"\\n      mutation UPDATE_PRODUCT(\\n            $id: ID!\\n            $name: String\\n            $description: String\\n            $price: Float\\n            $stockqty: Int\\n            $imageUrl: String\\n      ) {\\n            updateProduct(\\n                  id: $id\\n                  name: $name\\n                  description: $description\\n                  price: $price\\n                  stockqty: $stockqty\\n                  imageUrl: $imageUrl\\n            ) {\\n                  id\\n                  name\\n                  description\\n                  price\\n                  stockqty\\n                  imageUrl\\n            }\\n      }\\n\"]);return c=function(){return n},n}function a(){var n=Object(r.a)([\"\\n      mutation CREATE_PRODUCT(\\n            $name: String!\\n            $description: String!\\n            $price: Float!\\n            $stockqty: Int!\\n            $imageUrl: String!\\n      ) {\\n            createProduct(\\n                  name: $name\\n                  description: $description\\n                  price: $price\\n                  stockqty: $stockqty\\n                  imageUrl: $imageUrl\\n            ) {\\n                  name\\n                  description\\n                  price\\n                  stockqty\\n                  imageUrl\\n            }\\n      }\\n\"]);return a=function(){return n},n}function u(){var n=Object(r.a)([\"\\n      query QUERY_PRODUCT($id: ID!) {\\n            product(id: $id) {\\n                  id\\n                  name\\n                  description\\n                  imageUrl\\n                  price\\n                  createdAt\\n            }\\n      }\\n\"]);return u=function(){return n},n}function s(){var n=Object(r.a)([\"\\n      query {\\n            products {\\n                  id\\n                  name\\n                  description\\n                  price\\n                  stockqty\\n                  imageUrl\\n                  createdAt\\n                  user {\\n                        id\\n                  }\\n            }\\n      }\\n\"]);return s=function(){return n},n}function f(){var n=Object(r.a)([\"\\n      query MY_PRODUCTS {\\n            user {\\n                  id\\n                  username\\n                  email\\n                  products {\\n                        id\\n                        name\\n                        description\\n                        price\\n                        stockqty\\n                        imageUrl\\n                  }\\n            }\\n      }\\n\"]);return f=function(){return n},n}var d=i()(f()),l=i()(s()),p=i()(u()),v=i()(a());i()(c())},ODXe:function(n,e,t){\"use strict\";t.d(e,\"a\",(function(){return c}));var r=t(\"DSFK\");var o=t(\"BsWD\"),i=t(\"PYwp\");function c(n,e){return Object(r.a)(n)||function(n,e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!e||t.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}}(n,e)||Object(o.a)(n,e)||Object(i.a)()}},PYwp:function(n,e,t){\"use strict\";function r(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}t.d(e,\"a\",(function(){return r}))},YFqc:function(n,e,t){n.exports=t(\"cTJO\")},a3WO:function(n,e,t){\"use strict\";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,\"a\",(function(){return r}))},cTJO:function(n,e,t){\"use strict\";var r=t(\"J4zp\"),o=t(\"284h\");e.__esModule=!0,e.default=void 0;var i,c=o(t(\"q1tI\")),a=t(\"elyg\"),u=t(\"nOHt\"),s=new Map,f=window.IntersectionObserver,d={};var l=function(n,e){var t=i||(f?i=new f((function(n){n.forEach((function(n){if(s.has(n.target)){var e=s.get(n.target);(n.isIntersecting||n.intersectionRatio>0)&&(i.unobserve(n.target),s.delete(n.target),e())}}))}),{rootMargin:\"200px\"}):void 0);return t?(t.observe(n),s.set(n,e),function(){try{t.unobserve(n)}catch(e){console.error(e)}s.delete(n)}):function(){}};function p(n,e,t,r){(0,a.isLocalURL)(e)&&(n.prefetch(e,t,r).catch((function(n){0})),d[e+\"%\"+t]=!0)}var v=function(n){var e=!1!==n.prefetch,t=(0,u.useRouter)(),o=t&&t.pathname||\"/\",i=c.default.useMemo((function(){var e=(0,a.resolveHref)(o,n.href,!0),t=r(e,2),i=t[0],c=t[1];return{href:i,as:n.as?(0,a.resolveHref)(o,n.as):c||i}}),[o,n.href,n.as]),s=i.href,v=i.as,m=n.children,y=n.replace,g=n.shallow,h=n.scroll,b=n.locale;\"string\"===typeof m&&(m=c.default.createElement(\"a\",null,m));var w=c.Children.only(m),O=w&&\"object\"===typeof w&&w.ref,C=c.default.useRef(),U={ref:c.default.useCallback((function(n){(C.current&&(C.current(),C.current=void 0),e&&f&&n&&n.tagName&&(0,a.isLocalURL)(s))&&(d[s+\"%\"+v]||(C.current=l(n,(function(){p(t,s,v,{locale:\"undefined\"!==typeof b?b:t&&t.locale})}))));O&&(\"function\"===typeof O?O(n):\"object\"===typeof O&&(O.current=n))}),[e,O,s,v,t,b]),onClick:function(n){w.props&&\"function\"===typeof w.props.onClick&&w.props.onClick(n),n.defaultPrevented||function(n,e,t,r,o,i,c,u){(\"A\"!==n.currentTarget.nodeName||!function(n){var e=n.currentTarget.target;return e&&\"_self\"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)&&(0,a.isLocalURL)(t))&&(n.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](t,r,{shallow:i,locale:u}).then((function(n){n&&c&&(window.scrollTo(0,0),document.body.focus())})))}(n,t,s,v,y,g,h,b)}};return e&&(U.onMouseEnter=function(n){(0,a.isLocalURL)(s)&&(w.props&&\"function\"===typeof w.props.onMouseEnter&&w.props.onMouseEnter(n),p(t,s,v,{priority:!0}))}),(n.passHref||\"a\"===w.type&&!(\"href\"in w.props))&&(U.href=(0,a.addBasePath)((0,a.addLocale)(v,\"undefined\"!==typeof b?b:t&&t.locale,t&&t.defaultLocale))),c.default.cloneElement(w,U)};e.default=v},kAMa:function(n,e,t){\"use strict\";t.d(e,\"a\",(function(){return s})),t.d(e,\"b\",(function(){return f}));var r=t(\"h4VS\"),o=t(\"lTCR\"),i=t.n(o);function c(){var n=Object(r.a)([\"\\n    mutation DELETE_CART($id: ID!){\\n        deleteCart(id: $id){\\n            id\\n        }\\n    }\\n\"]);return c=function(){return n},n}function a(){var n=Object(r.a)([\"\\n    query MY_CARTS {\\n        user {\\n                id\\n                username\\n                email\\n                carts{\\n                    id\\n                    product{\\n                            name\\n                            description\\n                            imageUrl\\n                            price\\n                        }\\n                        qualtity\\n                }\\n            }\\n    }\\n\"]);return a=function(){return n},n}function u(){var n=Object(r.a)([\"\\n      mutation ADD_TO_CART($id: ID!) {\\n            addToCart(id: $id) {\\n                  id\\n                  product {\\n                        id\\n                        name\\n                        description\\n                        imageUrl\\n                        price\\n                  }\\n                  qualtity\\n            }\\n      }\\n\"]);return u=function(){return n},n}var s=i()(u()),f=i()(a());i()(c())},nycs:function(n,e,t){\"use strict\";t.d(e,\"a\",(function(){return f}));var r=t(\"q1tI\"),o=t.n(r),i=t(\"p46w\"),c=t.n(i),a=t(\"nOHt\"),u=t.n(a),s=o.a.createElement,f=Object(r.createContext)();e.b=function(n){var e=n.children,t=n.userData,o=Object(r.useState)(t),i=o[0],a=o[1];Object(r.useEffect)((function(){var n=function(n){\"logout\"===n.key&&(a(null),u.a.push(\"/products\"))};return window.addEventListener(\"storage\",n),function(){window.removeEventListener(\"storage\",n),window.localStorage.removeItem(\"logout\")}}),[]);return s(f.Provider,{value:{user:i,setAuthUser:function(n){return a(n)},signout:function(){c.a.remove(\"jwtToken\"),a(null),localStorage.setItem(\"logout\",Date.now()),u.a.push(\"/products\")}}},e)}},p46w:function(n,e,t){var r,o;!function(i){if(void 0===(o=\"function\"===typeof(r=i)?r.call(e,t,e,n):r)||(n.exports=o),!0,n.exports=i(),!!0){var c=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=c,a}}}((function(){function n(){for(var n=0,e={};n<arguments.length;n++){var t=arguments[n];for(var r in t)e[r]=t[r]}return e}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function o(){}function i(e,t,i){if(\"undefined\"!==typeof document){\"number\"===typeof(i=n({path:\"/\"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():\"\";try{var c=JSON.stringify(t);/^[\\{\\[]/.test(c)&&(t=c)}catch(s){}t=r.write?r.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var a=\"\";for(var u in i)i[u]&&(a+=\"; \"+u,!0!==i[u]&&(a+=\"=\"+i[u].split(\";\")[0]));return document.cookie=e+\"=\"+t+a}}function c(n,t){if(\"undefined\"!==typeof document){for(var o={},i=document.cookie?document.cookie.split(\"; \"):[],c=0;c<i.length;c++){var a=i[c].split(\"=\"),u=a.slice(1).join(\"=\");t||'\"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=e(a[0]);if(u=(r.read||r)(u,s)||e(u),t)try{u=JSON.parse(u)}catch(f){}if(o[s]=u,n===s)break}catch(f){}}return n?o[n]:o}}return o.set=i,o.get=function(n){return c(n,!1)},o.getJSON=function(n){return c(n,!0)},o.remove=function(e,t){i(e,\"\",n(t,{expires:-1}))},o.defaults={},o.withConverter=t,o}((function(){}))}))}}]);","extractedComments":[]}