{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{\"+YE2\":function(t,e,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r).a.createElement;e.a=function(t){return a(\"div\",{className:\"backdrop\"})}},\"F+Qm\":function(t,e,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r).a.createElement;e.a=function(t){return a(\"div\",{className:\"modal\"},a(\"section\",{className:\"modal__header\"},a(\"h1\",null,t.title),t.canCancel&&a(\"a\",{onClick:t.onCancel},a(\"span\",{className:\"ti-close\"}))),a(\"section\",{className:\"modal__content\"},t.children))}},JFjd:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return d})),n.d(e,\"d\",(function(){return p})),n.d(e,\"c\",(function(){return m})),n.d(e,\"a\",(function(){return f}));var r=n(\"h4VS\"),a=n(\"lTCR\"),c=n.n(a);function o(){var t=Object(r.a)([\"\\n      mutation UPDATE_PRODUCT(\\n            $id: ID!\\n            $name: String\\n            $description: String\\n            $price: Float\\n            $stockqty: Int\\n            $imageUrl: String\\n      ) {\\n            updateProduct(\\n                  id: $id\\n                  name: $name\\n                  description: $description\\n                  price: $price\\n                  stockqty: $stockqty\\n                  imageUrl: $imageUrl\\n            ) {\\n                  id\\n                  name\\n                  description\\n                  price\\n                  stockqty\\n                  imageUrl\\n            }\\n      }\\n\"]);return o=function(){return t},t}function i(){var t=Object(r.a)([\"\\n      mutation CREATE_PRODUCT(\\n            $name: String!\\n            $description: String!\\n            $price: Float!\\n            $stockqty: Int!\\n            $imageUrl: String!\\n      ) {\\n            createProduct(\\n                  name: $name\\n                  description: $description\\n                  price: $price\\n                  stockqty: $stockqty\\n                  imageUrl: $imageUrl\\n            ) {\\n                  name\\n                  description\\n                  price\\n                  stockqty\\n                  imageUrl\\n            }\\n      }\\n\"]);return i=function(){return t},t}function u(){var t=Object(r.a)([\"\\n      query QUERY_PRODUCT($id: ID!) {\\n            product(id: $id) {\\n                  id\\n                  name\\n                  description\\n                  imageUrl\\n                  price\\n                  createdAt\\n            }\\n      }\\n\"]);return u=function(){return t},t}function l(){var t=Object(r.a)([\"\\n      query {\\n            products {\\n                  id\\n                  name\\n                  description\\n                  price\\n                  stockqty\\n                  imageUrl\\n                  createdAt\\n                  user {\\n                        id\\n                  }\\n            }\\n      }\\n\"]);return l=function(){return t},t}function s(){var t=Object(r.a)([\"\\n      query MY_PRODUCTS {\\n            user {\\n                  id\\n                  username\\n                  email\\n                  products {\\n                        id\\n                        name\\n                        description\\n                        price\\n                        stockqty\\n                        imageUrl\\n                  }\\n            }\\n      }\\n\"]);return s=function(){return t},t}var d=c()(s()),p=c()(l()),m=c()(u()),f=c()(i());c()(o())},KUKL:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/userProducts\",function(){return n(\"uw0V\")}])},uw0V:function(t,e,n){\"use strict\";n.r(e);var r=n(\"q1tI\"),a=n.n(r),c=n(\"PPZI\"),o=n(\"fydt\"),i=n(\"o0o1\"),u=n.n(i),l=n(\"HaE+\"),s=n(\"ODXe\"),d=n(\"1OyB\"),p=n(\"vuIU\"),m=n(\"JX7q\"),f=n(\"Ji7U\"),b=n(\"md7G\"),h=n(\"foSv\"),v=n(\"rePB\"),y=n(\"nycs\"),g=a.a.createElement,O=function(t){var e=t.product;return g(a.a.Fragment,null,g(\"tr\",null,g(\"td\",{className:\"td-team\"},g(\"img\",{src:e.imageUrl,alt:e.name,width:\"80px\"})),g(\"td\",null,e.name),g(\"td\",null,e.description),g(\"td\",null,\"$\",e.price),g(\"td\",null,e.stockqty),g(\"td\",null,\"Package\"),g(\"td\",null,g(\"span\",{className:\"badge success\"},\"...\"))))},j=a.a.createElement,P=function(){var t=Object(r.useContext)(y.a).user;return j(a.a.Fragment,null,j(\"section\",{className:\"recent-products\"},j(\"div\",{className:\"products-grid\"},j(\"div\",{className:\"products-card\"},j(\"div\",{className:\"product-card-header\"},j(\"h3\",null,\"Recently products List\")),j(\"div\",{className:\"table-responsive\"},j(\"table\",null,j(\"thead\",null,j(\"tr\",null,j(\"th\",null,\"Image\"),j(\"th\",null,\"Products Name\"),j(\"th\",null,\"Description\"),j(\"th\",null,\"Price\"),j(\"th\",null,\"Stock Qty\"),j(\"th\",null,\"Unit\"),j(\"th\",null,\"Actions\"))),j(\"tbody\",null,t&&t.products.length>0&&t.products.map((function(t){return j(O,{key:t.id,product:t})})))))))))},N=n(\"+YE2\"),C=n(\"F+Qm\"),k=n(\"uc3D\"),_=n(\"vcXL\"),w=n.n(_),S=n(\"nOHt\"),U=n.n(S),$=n(\"JFjd\"),q=a.a.createElement;function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(v.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var a=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(b.a)(this,n)}}var F=function(t){Object(f.a)(n,t);var e=x(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c)),Object(v.a)(Object(m.a)(t),\"state\",{creating:!1}),Object(v.a)(Object(m.a)(t),\"CreateEventHandler\",(function(){t.setState({creating:!0})})),Object(v.a)(Object(m.a)(t),\"modalConfirmHandler\",(function(){t.setState({creating:!1})})),Object(v.a)(Object(m.a)(t),\"modalCancelHandler\",(function(){t.setState({creating:!1})})),Object(v.a)(Object(m.a)(t),\"_renderCreateProduct\",(function(){return function(){var t=Object(r.useState)(!1),e=(t[0],t[1],Object(r.useState)(null)),n=e[0],a=e[1],c=Object(r.useState)({name:\"\",description:\"\",price:\"\",stockqty:\"\",imageUrl:\"\"}),o=c[0],i=c[1],d=Object(k.useMutation)($.a,{refetchQueries:[{query:$.d}]}),p=Object(s.a)(d,2),m=p[0],f=p[1],b=f.loading,h=(f.error,function(t){return i(D(D({},o),{},Object(v.a)({},t.target.name,t.target.value)))}),y=function(){var t=Object(l.a)(u.a.mark((function t(){var e,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new FormData).append(\"file\",n),e.append(\"upload_preset\",\"shoppin\"),t.next=5,w()(\"https://api.cloudinary.com/v1_1/swizce/image/upload\",{method:\"post\",body:e});case 5:return r=t.sent,t.next=8,r.json();case 8:return a=t.sent,t.abrupt(\"return\",a.secure_url);case 10:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return q(\"div\",{className:\"create-product__Card\"},q(\"form\",{onSubmit:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.preventDefault(),t.next=4,y();case 4:if(!(n=t.sent)){t.next=10;break}return t.next=8,m({variables:D(D({},o),{},{price:+o.price,imageUrl:n})});case 8:return r=t.sent,t.abrupt(\"return\",r);case 10:U.a.push(\"/userProducts\"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case\"end\":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"productname\"},\"Product Name:\"),q(\"input\",{type:\"text\",name:\"name\",placeholder:\"Enter Product Name\",value:o.name,onChange:h})),q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"address\"},\"Product Desc:\"),q(\"textarea\",{type:\"text\",name:\"description\",placeholder:\"Product Description\",value:o.description,onChange:h,rows:\"4\"})),q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"city\"},\"Price:\"),q(\"input\",{type:\"number\",name:\"price\",placeholder:\"Price\",value:o.price,onChange:h})),q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"stockqty\"},\"Stock Qty:\"),q(\"input\",{type:\"number\",name:\"stockqty\",placeholder:\"Stock Qualtity\",value:o.stockqty,onChange:h})),q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"contact\"},\"--Select Categories--\"),q(\"input\",{type:\"text\",name:\"contact\",placeholder:\"Contact No.\"})),q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"contact\"},\"--Select Brands--\"),q(\"input\",{type:\"text\",name:\"contact\",placeholder:\"Contact No.\"})),q(\"div\",{className:\"form-control\"},q(\"label\",{htmlFor:\"contact\"},\"Product Image\"),q(\"input\",{type:\"file\",name:\"file\",placeholder:\"file *.png, *.jpg...\",onChange:function(t){var e=t.target.files;a(e[0])}})),q(\"div\",{className:\"form-submit\"},q(\"button\",{className:\"btn__cancel\",onClick:function(){return U.a.push(\"/userProducts\")}},\"Back\"),q(\"button\",{className:\"btn__submit\",type:\"submit\",style:{cursor:o.name&&o.description&&o.price&&n&&!b?\"pointer\":\"not-allowed\"},disabled:!o.name||!o.description||!o.price||!n||b},\"Submit\",b?\"Submiting...\":\"\"))))}})),t}return Object(p.a)(n,[{key:\"render\",value:function(){var t=this._renderCreateProduct();return q(a.a.Fragment,null,q(\"div\",{className:\"product-content__header\"},q(\"h2\",{className:\"dash-title\"},\"All Products List\"),q(\"a\",{onClick:this.CreateEventHandler},q(\"span\",{className:\"ti-plus\"}),q(\"small\",null,\"Add Product\"))),this.state.creating&&q(N.a,null),this.state.creating&&q(C.a,{title:\"Create Product\",canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler},q(t,null)),q(P,null))}}]),n}(r.Component),R=a.a.createElement;e.default=function(){return R(a.a.Fragment,null,R(o.a,null),R(\"div\",{className:\"main-products-content\"},R(c.a,null),R(\"main\",null,R(F,null))))}},vcXL:function(t,e,n){\"use strict\";var r=self.fetch.bind(self);t.exports=r,t.exports.default=t.exports}},[[\"KUKL\",0,1,2,3,4,5]]]);","extractedComments":[]}