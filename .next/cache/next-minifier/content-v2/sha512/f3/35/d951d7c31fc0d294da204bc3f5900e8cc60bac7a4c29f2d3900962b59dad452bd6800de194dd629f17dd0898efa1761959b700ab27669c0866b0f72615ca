{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{JFjd:function(n,e,t){\"use strict\";t.d(e,\"b\",(function(){return d})),t.d(e,\"d\",(function(){return l})),t.d(e,\"c\",(function(){return p})),t.d(e,\"a\",(function(){return m})),t.d(e,\"e\",(function(){return g}));var r=t(\"h4VS\"),o=t(\"lTCR\"),i=t.n(o);function c(){var n=Object(r.a)([\"\\n  mutation UPDATE_PRODUCT(\\n    $name: String!, \\n    $description: String!, \\n    $price: Float!, \\n    $imageUrl: String!\\n    ){\\n    updateProduct(\\n        name: $name\\n        description: $description\\n        price: $price\\n        imageUrl: $imageUrl\\n      ){\\n        id\\n        name\\n        description\\n        price\\n        imageUrl\\n    }\\n  }\\n\"]);return c=function(){return n},n}function a(){var n=Object(r.a)([\"\\n  mutation CREATE_PRODUCT($name: String!, $description: String!, $price: Float!, $imageUrl: String!){\\n    createProduct(\\n        name: $name \\n        description: $description\\n        price: $price\\n        imageUrl: $imageUrl\\n      ){\\n        name\\n        description\\n        price\\n        imageUrl\\n    }\\n  }\\n\"]);return a=function(){return n},n}function u(){var n=Object(r.a)([\"\\n  query QUERY_PRODUCT($id: ID!) {\\n    product(id: $id){\\n      id\\n      name\\n      description\\n      imageUrl\\n      price\\n      createdAt\\n    }\\n  }\\n\"]);return u=function(){return n},n}function s(){var n=Object(r.a)([\"\\n  query {\\n  products{\\n    id\\n    name\\n    description\\n    price\\n    imageUrl\\n    createdAt\\n    user{\\n      id\\n    }\\n  }\\n} \\n\"]);return s=function(){return n},n}function f(){var n=Object(r.a)([\"\\nquery MY_PRODUCTS {\\n    user{\\n      id\\n      username\\n      email\\n      products{\\n        id\\n        name\\n        description\\n        price\\n        imageUrl\\n      }\\n    }\\n  }\\n\\n\"]);return f=function(){return n},n}var d=i()(f()),l=i()(s()),p=i()(u()),m=i()(a()),g=i()(c())},Kpik:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/products\",function(){return t(\"q2dU\")}])},YFqc:function(n,e,t){n.exports=t(\"cTJO\")},cTJO:function(n,e,t){\"use strict\";var r=t(\"J4zp\"),o=t(\"284h\");e.__esModule=!0,e.default=void 0;var i,c=o(t(\"q1tI\")),a=t(\"elyg\"),u=t(\"nOHt\"),s=new Map,f=window.IntersectionObserver,d={};var l=function(n,e){var t=i||(f?i=new f((function(n){n.forEach((function(n){if(s.has(n.target)){var e=s.get(n.target);(n.isIntersecting||n.intersectionRatio>0)&&(i.unobserve(n.target),s.delete(n.target),e())}}))}),{rootMargin:\"200px\"}):void 0);return t?(t.observe(n),s.set(n,e),function(){try{t.unobserve(n)}catch(e){console.error(e)}s.delete(n)}):function(){}};function p(n,e,t,r){(0,a.isLocalURL)(e)&&(n.prefetch(e,t,r).catch((function(n){0})),d[e+\"%\"+t]=!0)}var m=function(n){var e=!1!==n.prefetch,t=c.default.useState(),o=r(t,2),i=o[0],s=o[1],m=(0,u.useRouter)(),g=m&&m.pathname||\"/\",v=c.default.useMemo((function(){var e=(0,a.resolveHref)(g,n.href);return{href:e,as:n.as?(0,a.resolveHref)(g,n.as):e}}),[g,n.href,n.as]),h=v.href,w=v.as;c.default.useEffect((function(){if(e&&f&&i&&i.tagName&&(0,a.isLocalURL)(h)&&!d[h+\"%\"+w])return l(i,(function(){p(m,h,w)}))}),[e,i,h,w,m]);var y=n.children,U=n.replace,C=n.shallow,b=n.scroll;\"string\"===typeof y&&(y=c.default.createElement(\"a\",null,y));var E=c.Children.only(y),O={ref:function(n){n&&s(n),E&&\"object\"===typeof E&&E.ref&&(\"function\"===typeof E.ref?E.ref(n):\"object\"===typeof E.ref&&(E.ref.current=n))},onClick:function(n){E.props&&\"function\"===typeof E.props.onClick&&E.props.onClick(n),n.defaultPrevented||function(n,e,t,r,o,i,c){(\"A\"!==n.currentTarget.nodeName||!function(n){var e=n.currentTarget.target;return e&&\"_self\"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)&&(0,a.isLocalURL)(t))&&(n.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](t,r,{shallow:i}).then((function(n){n&&c&&(window.scrollTo(0,0),document.body.focus())})))}(n,m,h,w,U,C,b)}};return e&&(O.onMouseEnter=function(n){(0,a.isLocalURL)(h)&&(E.props&&\"function\"===typeof E.props.onMouseEnter&&E.props.onMouseEnter(n),p(m,h,w,{priority:!0}))}),(n.passHref||\"a\"===E.type&&!(\"href\"in E.props))&&(O.href=(0,a.addBasePath)(w)),c.default.cloneElement(E,O)};e.default=m},nycs:function(n,e,t){\"use strict\";t.d(e,\"a\",(function(){return f}));var r=t(\"q1tI\"),o=t.n(r),i=t(\"p46w\"),c=t.n(i),a=t(\"nOHt\"),u=t.n(a),s=o.a.createElement,f=Object(r.createContext)();e.b=function(n){var e=n.children,t=n.userData,o=Object(r.useState)(t),i=o[0],a=o[1];Object(r.useEffect)((function(){var n=function(n){\"logout\"===n.key&&(a(null),u.a.push(\"/products\"))};return window.addEventListener(\"storage\",n),function(){window.removeEventListener(\"storage\",n),window.localStorage.removeItem(\"logout\")}}),[]);return s(f.Provider,{value:{user:i,setAuthUser:function(n){return a(n)},signout:function(){c.a.remove(\"jwtToken\"),a(null),localStorage.setItem(\"logout\",Date.now()),u.a.push(\"/products\")}}},e)}},p46w:function(n,e,t){var r,o;!function(i){if(void 0===(o=\"function\"===typeof(r=i)?r.call(e,t,e,n):r)||(n.exports=o),!0,n.exports=i(),!!0){var c=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=c,a}}}((function(){function n(){for(var n=0,e={};n<arguments.length;n++){var t=arguments[n];for(var r in t)e[r]=t[r]}return e}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function o(){}function i(e,t,i){if(\"undefined\"!==typeof document){\"number\"===typeof(i=n({path:\"/\"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():\"\";try{var c=JSON.stringify(t);/^[\\{\\[]/.test(c)&&(t=c)}catch(s){}t=r.write?r.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var a=\"\";for(var u in i)i[u]&&(a+=\"; \"+u,!0!==i[u]&&(a+=\"=\"+i[u].split(\";\")[0]));return document.cookie=e+\"=\"+t+a}}function c(n,t){if(\"undefined\"!==typeof document){for(var o={},i=document.cookie?document.cookie.split(\"; \"):[],c=0;c<i.length;c++){var a=i[c].split(\"=\"),u=a.slice(1).join(\"=\");t||'\"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=e(a[0]);if(u=(r.read||r)(u,s)||e(u),t)try{u=JSON.parse(u)}catch(f){}if(o[s]=u,n===s)break}catch(f){}}return n?o[n]:o}}return o.set=i,o.get=function(n){return c(n,!1)},o.getJSON=function(n){return c(n,!0)},o.remove=function(e,t){i(e,\"\",n(t,{expires:-1}))},o.defaults={},o.withConverter=t,o}((function(){}))}))},q2dU:function(n,e,t){\"use strict\";t.r(e);var r=t(\"q1tI\"),o=t.n(r),i=t(\"YFqc\"),c=t.n(i),a=t(\"VX74\"),u=t(\"nycs\"),s=t(\"JFjd\"),f=t(\"nOHt\"),d=t.n(f),l=(t(\"3jdY\"),o.a.createElement);var p=function(){var n=Object(a.useQuery)(s.d),e=n.data,t=n.loading,o=n.error,i=Object(r.useContext)(u.a).user;return o?l(\"p\",null,\"Ooops....! Something went wrong, Plz try again later\"):t?l(\"p\",null,\"loading...\"):l(\"div\",{className:\"container\"},e.products.map((function(n){return l(\"div\",{className:\"product-container\"},l(\"figure\",null,i&&i.id===n.user.id?l(c.a,{href:\"/manageProducts\"},l(\"img\",{src:n.imageUrl,alt:n.description})):l(c.a,{href:\"/products/product_detail\",as:\"/products/\".concat(n.id)},l(\"img\",{src:n.imageUrl,alt:n.description}))),l(\"h3\",null,n.name),l(\"p\",{className:\"description-text\"},n.description),l(\"p\",null,n.price,\"-THB\"),i&&i.id===n.user.id?l(\"button\",{className:\"btn-manage\",onClick:function(){return d.a.push(\"/manageProducts\")}},\"Manage Products\"):l(\"button\",{className:\"btn-add-carts\",onClick:function(){return d.a.push(\"/carts\")}},\"Add To Cart\"))})))},m=o.a.createElement;e.default=function(){return m(p,null)}}},[[\"Kpik\",0,1,2,3,4,5]]]);","extractedComments":[]}