_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{BsWD:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var r=e("a3WO");function i(n,t){if(n){if("string"===typeof n)return Object(r.a)(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Object(r.a)(n,t):void 0}}},DSFK:function(n,t,e){"use strict";function r(n){if(Array.isArray(n))return n}e.d(t,"a",(function(){return r}))},FwFp:function(n,t,e){"use strict";e.r(t);var r=e("q1tI"),i=e.n(r),o=e("o0o1"),c=e.n(o),a=e("HaE+"),u=e("ODXe"),s=e("nOHt"),d=e.n(s),l=e("uc3D"),p=e("JFjd"),f=e("nycs"),m=e("kAMa"),v=i.a.createElement,g=function(){var n=Object(s.useRouter)(),t=Object(l.useQuery)(p.c,{variables:{id:n.query.productId}}),e=t.data,i=t.loading,o=t.error,g=Object(r.useContext)(f.a).user,b=Object(l.useMutation)(m.a,{onCompleted:function(n){console.log("data",n)},refetchQueries:[{query:p.b}]}),y=Object(u.a)(b,1)[0],h=function(){var n=Object(a.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g){n.next=2;break}return n.abrupt("return",d.a.push("/signin"));case 2:return n.next=4,y({variables:{id:t}});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return o?v("p",null,"Ooops....! Something went wrong, Plz try again later"):i?v("p",null,"loading..."):v("div",{className:"product-detail-card"},v("div",{className:"product-detail-cover"},v("div",{className:"product-image"},v("img",{src:e.product.imageUrl,alt:e.product.description})),v("div",{className:"product-info"},v("h3",{className:"header-title"},"Product Detail"),v("div",{className:"box-head"},v("h2",{className:"product-name"},e.product.name)),v("div",{className:"box-content"},v("p",{className:"product-desc"},e.product.description)),v("div",{className:"product-size"},v("h3",null,e.product.name)),v("div",{className:"product-color"},v("h3",null,e.product.name)),v("div",{className:"product-rating"},v("h3",null,e.product.name)),v("div",{className:"transport-service"},v("h5",null,e.product.name)),v("div",{className:"product-price"},v("h1",null," $",e.product.price)))),v("div",{className:"product-detail-action"},v("hr",null),v("div",{className:"box-footer"},v("button",{className:"btn-back",onClick:function(){return d.a.push("/products")}},"Back"),v("button",{className:"btn-submit",onClick:function(){return h(e.product.id)}},"ADD CART"))))},b=i.a.createElement;t.default=function(){return b("div",{className:"product-detail-page"},b("div",{className:"product-detail-content"},b("main",null,b(g,null),b("div",{className:"product-release"},b("h4",null,"product you like")))))}},"HaE+":function(n,t,e){"use strict";function r(n,t,e,r,i,o,c){try{var a=n[o](c),u=a.value}catch(s){return void e(s)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(n){return function(){var t=this,e=arguments;return new Promise((function(i,o){var c=n.apply(t,e);function a(n){r(c,i,o,a,u,"next",n)}function u(n){r(c,i,o,a,u,"throw",n)}a(void 0)}))}}e.d(t,"a",(function(){return i}))},JFjd:function(n,t,e){"use strict";e.d(t,"b",(function(){return l})),e.d(t,"d",(function(){return p})),e.d(t,"c",(function(){return f})),e.d(t,"a",(function(){return m}));var r=e("h4VS"),i=e("lTCR"),o=e.n(i);function c(){var n=Object(r.a)(["\n      mutation UPDATE_PRODUCT(\n            $id: ID!\n            $name: String\n            $description: String\n            $price: Float\n            $stockqty: Int\n            $imageUrl: String\n      ) {\n            updateProduct(\n                  id: $id\n                  name: $name\n                  description: $description\n                  price: $price\n                  stockqty: $stockqty\n                  imageUrl: $imageUrl\n            ) {\n                  id\n                  name\n                  description\n                  price\n                  stockqty\n                  imageUrl\n            }\n      }\n"]);return c=function(){return n},n}function a(){var n=Object(r.a)(["\n      mutation CREATE_PRODUCT(\n            $name: String!\n            $description: String!\n            $price: Float!\n            $stockqty: Int!\n            $imageUrl: String!\n      ) {\n            createProduct(\n                  name: $name\n                  description: $description\n                  price: $price\n                  stockqty: $stockqty\n                  imageUrl: $imageUrl\n            ) {\n                  name\n                  description\n                  price\n                  stockqty\n                  imageUrl\n            }\n      }\n"]);return a=function(){return n},n}function u(){var n=Object(r.a)(["\n      query QUERY_PRODUCT($id: ID!) {\n            product(id: $id) {\n                  id\n                  name\n                  description\n                  imageUrl\n                  price\n                  createdAt\n            }\n      }\n"]);return u=function(){return n},n}function s(){var n=Object(r.a)(["\n      query {\n            products {\n                  id\n                  name\n                  description\n                  price\n                  stockqty\n                  imageUrl\n                  createdAt\n                  user {\n                        id\n                  }\n            }\n      }\n"]);return s=function(){return n},n}function d(){var n=Object(r.a)(["\n      query MY_PRODUCTS {\n            user {\n                  id\n                  username\n                  email\n                  products {\n                        id\n                        name\n                        description\n                        price\n                        stockqty\n                        imageUrl\n                  }\n            }\n      }\n"]);return d=function(){return n},n}var l=o()(d()),p=o()(s()),f=o()(u()),m=o()(a());o()(c())},ODXe:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var r=e("DSFK");var i=e("BsWD"),o=e("PYwp");function c(n,t){return Object(r.a)(n)||function(n,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var e=[],r=!0,i=!1,o=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return e}}(n,t)||Object(i.a)(n,t)||Object(o.a)()}},PYwp:function(n,t,e){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.d(t,"a",(function(){return r}))},a3WO:function(n,t,e){"use strict";function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}e.d(t,"a",(function(){return r}))},kAMa:function(n,t,e){"use strict";e.d(t,"a",(function(){return s})),e.d(t,"b",(function(){return d}));var r=e("h4VS"),i=e("lTCR"),o=e.n(i);function c(){var n=Object(r.a)(["\n    mutation DELETE_CART($id: ID!){\n        deleteCart(id: $id){\n            id\n        }\n    }\n"]);return c=function(){return n},n}function a(){var n=Object(r.a)(["\n    query MY_CARTS {\n        user {\n                id\n                username\n                email\n                carts{\n                    id\n                    product{\n                            name\n                            description\n                            imageUrl\n                            price\n                        }\n                        qualtity\n                }\n            }\n    }\n"]);return a=function(){return n},n}function u(){var n=Object(r.a)(["\n      mutation ADD_TO_CART($id: ID!) {\n            addToCart(id: $id) {\n                  id\n                  product {\n                        id\n                        name\n                        description\n                        imageUrl\n                        price\n                  }\n                  qualtity\n            }\n      }\n"]);return u=function(){return n},n}var s=o()(u()),d=o()(a());o()(c())},nycs:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var r=e("q1tI"),i=e.n(r),o=e("p46w"),c=e.n(o),a=e("nOHt"),u=e.n(a),s=i.a.createElement,d=Object(r.createContext)();t.b=function(n){var t=n.children,e=n.userData,i=Object(r.useState)(e),o=i[0],a=i[1];Object(r.useEffect)((function(){var n=function(n){"logout"===n.key&&(a(null),u.a.push("/products"))};return window.addEventListener("storage",n),function(){window.removeEventListener("storage",n),window.localStorage.removeItem("logout")}}),[]);return s(d.Provider,{value:{user:o,setAuthUser:function(n){return a(n)},signout:function(){c.a.remove("jwtToken"),a(null),localStorage.setItem("logout",Date.now()),u.a.push("/products")}}},t)}},p46w:function(n,t,e){var r,i;!function(o){if(void 0===(i="function"===typeof(r=o)?r.call(t,e,t,n):r)||(n.exports=i),!0,n.exports=o(),!!0){var c=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=c,a}}}((function(){function n(){for(var n=0,t={};n<arguments.length;n++){var e=arguments[n];for(var r in e)t[r]=e[r]}return t}function t(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(r){function i(){}function o(t,e,o){if("undefined"!==typeof document){"number"===typeof(o=n({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var c=JSON.stringify(e);/^[\{\[]/.test(c)&&(e=c)}catch(s){}e=r.write?r.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+e+a}}function c(n,e){if("undefined"!==typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],c=0;c<o.length;c++){var a=o[c].split("="),u=a.slice(1).join("=");e||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(a[0]);if(u=(r.read||r)(u,s)||t(u),e)try{u=JSON.parse(u)}catch(d){}if(i[s]=u,n===s)break}catch(d){}}return n?i[n]:i}}return i.set=o,i.get=function(n){return c(n,!1)},i.getJSON=function(n){return c(n,!0)},i.remove=function(t,e){o(t,"",n(e,{expires:-1}))},i.defaults={},i.withConverter=e,i}((function(){}))}))},tSBF:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Products/[productId]",function(){return e("FwFp")}])}},[["tSBF",0,1,2,3,4]]]);